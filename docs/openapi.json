{
  "openapi": "3.1.0",
  "info": {
    "title": "KHW",
    "description": "Customer Support Knowledge Management System",
    "version": "0.1.0"
  },
  "paths": {
    "/api/v1/consultations": {
      "post": {
        "tags": [
          "consultations"
        ],
        "summary": "Create new consultation",
        "description": "상담 등록 (RDB 저장 + VectorStore 인덱싱)\n\nFR-1: 상담 등록 기능\n\n**요청:**\n```json\n{\n  \"branch_code\": \"INTERNET_BANKING\",\n  \"business_type\": \"인터넷뱅킹\",\n  \"error_code\": \"E001\",\n  \"inquiry_text\": \"로그인이 안 됩니다\",\n  \"employee_id\": \"emp001\",\n  \"employee_name\": \"홍길동\",\n  \"action_taken\": \"임시 비밀번호 발급\",\n  \"consultation_date\": \"2024-12-16T10:30:00Z\"\n}\n```\n\n**응답 (201 Created):**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"uuid-xxx\",\n    \"branch_code\": \"INTERNET_BANKING\",\n    \"business_type\": \"인터넷뱅킹\",\n    \"error_code\": \"E001\",\n    \"inquiry_text\": \"로그인이 안 됩니다\",\n    \"employee_id\": \"emp001\",\n    \"employee_name\": \"홍길동\",\n    \"action_taken\": \"임시 비밀번호 발급\",\n    \"consultation_date\": \"2024-12-16T10:30:00Z\",\n    \"created_at\": \"2024-12-16T10:35:00Z\"\n  },\n  \"error\": null,\n  \"meta\": {\n    \"requestId\": \"req-xxx\",\n    \"timestamp\": \"2024-12-16T10:35:00Z\"\n  },\n  \"feedback\": []\n}\n```\n\n**에러 응답:**\n- 400 Bad Request: 유효하지 않은 입력\n- 422 Unprocessable Entity: 필드 검증 실패\n- 500 Internal Server Error: 서버 오류\n\n**주요 필드:**\n- branch_code: 지점 코드 (필수)\n- business_type: 업무 구분 (필수)\n- error_code: 에러 코드 (필수)\n- inquiry_text: 상담 내용 (필수)\n\n**저장 위치:**\n- RDB (PostgreSQL): 전체 상담 데이터\n- VectorStore: 벡터화된 inquiry_text (유사 검색용)\n\nTODO: current_user = Depends(get_current_user) 추가 후 created_by_user_id 매핑",
        "operationId": "create_consultation_api_v1_consultations_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConsultationCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "생성 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsultationResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "uuid-xxx",
                    "branch_code": "INTERNET_BANKING",
                    "inquiry_text": "로그인이 안 됩니다",
                    "created_at": "2024-12-16T10:35:00Z"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - 유효하지 않은 입력",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "ValidationError",
                    "message": "입력값이 유효하지 않습니다",
                    "details": {
                      "field": "error message"
                    },
                    "hint": "필드를 확인해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity - 필드 검증 실패",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "ValidationError",
                    "message": "필드 검증에 실패했습니다",
                    "details": {
                      "inquiry_text": [
                        "최소 10자 이상이어야 합니다"
                      ]
                    }
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - 서버 오류",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "INTERNAL.UNEXPECTED",
                    "message": "예기치 않은 서버 오류가 발생했습니다",
                    "hint": "관리자에게 문의해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/consultations/search": {
      "get": {
        "tags": [
          "consultations"
        ],
        "summary": "Search similar consultations",
        "description": "상담 검색 (벡터 유사도 기반)\n\nFR-3, FR-8: 상담 검색 기능\n\n**쿼리 파라미터:**\n- query: 검색어 (필수, 예: \"로그인이 안 됨\")\n- top_k: 상위 결과 개수 (기본값: 10)\n- branch_code: 지점 필터 (선택사항)\n- business_type: 업무 구분 필터 (선택사항)\n- error_code: 에러 코드 필터 (선택사항)\n- start_date: 시작일 필터 (선택사항, ISO 8601)\n- end_date: 종료일 필터 (선택사항, ISO 8601)\n\n**응답 (200 OK):**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"results\": [\n      {\n        \"id\": \"uuid-1\",\n        \"branch_code\": \"INTERNET_BANKING\",\n        \"business_type\": \"인터넷뱅킹\",\n        \"error_code\": \"E001\",\n        \"inquiry_text\": \"로그인이 안 됩니다\",\n        \"employee_name\": \"홍길동\",\n        \"action_taken\": \"임시 비밀번호 발급\",\n        \"consultation_date\": \"2024-12-16T10:30:00Z\",\n        \"similarity_score\": 0.95\n      }\n    ],\n    \"total_found\": 1,\n    \"query\": \"로그인이 안 됨\"\n  },\n  \"error\": null,\n  \"meta\": {\n    \"requestId\": \"req-yyy\",\n    \"timestamp\": \"2024-12-16T10:35:00Z\"\n  },\n  \"feedback\": []\n}\n```\n\n**동작:**\n1. 쿼리를 벡터화하여 VectorStore에서 semantic search\n2. 상위 top_k개 결과 반환\n3. 메타데이터 필터 (branch_code, business_type, error_code, 날짜) 적용\n4. 유사도 임계값(threshold) 이상의 결과만 필터링\n5. 유사도 점수(0-1) 포함하여 반환\n\n**결과가 없는 경우:**\n- 200 OK, results=[], total_found=0 반환\n- 에러가 아니라 정상 응답\n\n**예시:**\n```\nGET /consultations/search?query=로그인&top_k=5&business_type=인터넷뱅킹\n```",
        "operationId": "search_consultations_api_v1_consultations_search_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "title": "Query"
            }
          },
          {
            "name": "branch_code",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Branch Code"
            }
          },
          {
            "name": "business_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Business Type"
            }
          },
          {
            "name": "error_code",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Error Code"
            }
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Start Date"
            }
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "End Date"
            }
          },
          {
            "name": "top_k",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "default": 10,
              "title": "Top K"
            }
          },
          {
            "name": "similarity_threshold",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "maximum": 1,
              "minimum": 0,
              "default": 0.7,
              "title": "Similarity Threshold"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsultationSearchResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "results": [
                      {
                        "id": "uuid-1",
                        "inquiry_text": "로그인이 안 됩니다",
                        "similarity_score": 0.95
                      }
                    ],
                    "total_found": 1,
                    "query": "로그인"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - 유효하지 않은 입력",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "ValidationError",
                    "message": "입력값이 유효하지 않습니다",
                    "details": {
                      "field": "error message"
                    },
                    "hint": "필드를 확인해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - 서버 오류",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "INTERNAL.UNEXPECTED",
                    "message": "예기치 않은 서버 오류가 발생했습니다",
                    "hint": "관리자에게 문의해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/consultations/{consultation_id}": {
      "get": {
        "tags": [
          "consultations"
        ],
        "summary": "Get consultation details",
        "description": "상담 상세 조회\n\n**경로 파라미터:**\n- consultation_id: 상담 ID (UUID)\n\n**응답 (200 OK):**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"uuid-xxx\",\n    \"branch_code\": \"INTERNET_BANKING\",\n    \"business_type\": \"인터넷뱅킹\",\n    \"error_code\": \"E001\",\n    \"inquiry_text\": \"로그인이 안 됩니다\",\n    \"employee_id\": \"emp001\",\n    \"employee_name\": \"홍길동\",\n    \"action_taken\": \"임시 비밀번호 발급\",\n    \"consultation_date\": \"2024-12-16T10:30:00Z\",\n    \"created_at\": \"2024-12-16T10:35:00Z\"\n  },\n  \"error\": null,\n  \"meta\": {\n    \"requestId\": \"req-zzz\",\n    \"timestamp\": \"2024-12-16T10:35:00Z\"\n  },\n  \"feedback\": []\n}\n```\n\n**에러 응답:**\n- 404 Not Found: 상담을 찾을 수 없음\n  ```json\n  {\n    \"success\": false,\n    \"data\": null,\n    \"error\": {\n      \"code\": \"RecordNotFoundError\",\n      \"message\": \"상담을 찾을 수 없습니다\",\n      \"details\": null,\n      \"hint\": null\n    },\n    \"meta\": {...},\n    \"feedback\": []\n  }\n  ```\n\n**주요 필드:**\n- id: 상담 고유 ID\n- inquiry_text: 고객의 상담 내용\n- action_taken: 상담원이 취한 조치\n- consultation_date: 상담 발생 일시",
        "operationId": "get_consultation_api_v1_consultations__consultation_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "consultation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Consultation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsultationResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "uuid-xxx",
                    "inquiry_text": "로그인이 안 됩니다",
                    "created_at": "2024-12-16T10:35:00Z"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "404": {
            "description": "Not Found - 리소스를 찾을 수 없음",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "RecordNotFoundError",
                    "message": "요청한 리소스를 찾을 수 없습니다"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - 서버 오류",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "INTERNAL.UNEXPECTED",
                    "message": "예기치 않은 서버 오류가 발생했습니다",
                    "hint": "관리자에게 문의해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals/draft": {
      "post": {
        "tags": [
          "manuals"
        ],
        "summary": "Create manual draft from consultation (v2.1 with comparison)",
        "description": "상담 기반 메뉴얼 초안 생성 + 비교 + 리뷰 태스크\n\nFR-2, FR-9, FR-11: 메뉴얼 초안 생성 및 비교 분석\n\n**요청:**\n```json\n{\n  \"consultation_id\": \"uuid-xxx\",\n  \"enforce_hallucination_check\": true,\n  \"compare_with_manual_id\": \"uuid-yyy\"\n}\n```\n\n**응답 - 3가지 경로 (201 Created):**\n\n**1️⃣ SIMILAR (기존 메뉴얼과 매우 유사):**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"comparison_type\": \"similar\",\n    \"draft_entry\": {\n      \"id\": \"uuid-draft-1\",\n      \"business_type\": \"인터넷뱅킹\",\n      \"error_code\": \"E001\",\n      \"topic\": \"로그인 실패\",\n      \"keywords\": [\"로그인\", \"인증\", \"실패\"],\n      \"background\": \"고객이 올바른 자격증명으로 로그인 시도 시 실패하는 현상\",\n      \"guidelines\": [{\"title\": \"조치1\", \"description\": \"비밀번호 초기화...\"}],\n      \"status\": \"DRAFT\",\n      \"version\": null,\n      \"created_at\": \"2024-12-16T10:35:00Z\"\n    },\n    \"existing_manual\": {\n      \"id\": \"uuid-existing-1\",\n      \"business_type\": \"인터넷뱅킹\",\n      \"error_code\": \"E001\",\n      \"topic\": \"로그인 오류\",\n      \"keywords\": [\"로그인\", \"인증\"],\n      \"background\": \"로그인 인증 실패\",\n      \"guidelines\": [{\"title\": \"조치1\", \"description\": \"비밀번호 초기화...\"}],\n      \"status\": \"APPROVED\",\n      \"version\": \"v1.6\",\n      \"created_at\": \"2024-12-15T09:00:00Z\"\n    },\n    \"similarity_score\": 0.97,\n    \"review_task_id\": null,\n    \"message\": \"기존 메뉴얼(v1.6)과 99% 유사합니다. 기존 메뉴얼 사용을 권장합니다.\"\n  },\n  \"error\": null,\n  \"meta\": {...},\n  \"feedback\": []\n}\n```\n\n**2️⃣ SUPPLEMENT (기존 메뉴얼 개선/보충):**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"comparison_type\": \"supplement\",\n    \"draft_entry\": {...},\n    \"existing_manual\": {...},\n    \"similarity_score\": 0.82,\n    \"review_task_id\": \"uuid-task-123\",\n    \"message\": \"기존 메뉴얼(v1.6)의 내용을 보충했습니다. 검토 태스크가 생성되었습니다.\"\n  },\n  \"error\": null,\n  \"meta\": {...},\n  \"feedback\": []\n}\n```\n\n**3️⃣ NEW (신규 메뉴얼):**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"comparison_type\": \"new\",\n    \"draft_entry\": {...},\n    \"existing_manual\": null,\n    \"similarity_score\": null,\n    \"review_task_id\": \"uuid-task-456\",\n    \"message\": \"신규 메뉴얼 초안으로 생성되었습니다. 검토 태스크가 생성되었습니다.\"\n  },\n  \"error\": null,\n  \"meta\": {...},\n  \"feedback\": []\n}\n```\n\n**에러 응답:**\n- 404 Not Found: 상담/메뉴얼을 찾을 수 없음\n- 400 Bad Request: 비즈니스 로직 오류\n- 422 Unprocessable Entity: 검증 실패\n- 500 Internal Server Error: LLM/VectorStore 오류\n\n**주요 필드 설명:**\n- comparison_type: \"similar\"|\"supplement\"|\"new\"\n  - similar: 기존 메뉴얼과 유사도 95% 이상 (리뷰 태스크 미생성)\n  - supplement: 유사도 70~95% (리뷰 태스크 생성, 개선 내용 검토)\n  - new: 유사 메뉴얼 없음 (리뷰 태스크 생성, 새 항목 검토)\n- review_task_id: 검토 필요 시 자동 생성 (similar만 null)\n- draft_entry: 생성된 초안 (DRAFT 상태)\n- existing_manual: 기존 버전 (similar/supplement만 포함)\n\n**프론트엔드 처리:**\n1. comparison_type별로 UI 다르게 표시\n2. SIMILAR: 기존 메뉴얼 사용 권장, 초안 자동 버림\n3. SUPPLEMENT/NEW: 검토 태스크 목록으로 이동, 승인/거절 대기",
        "operationId": "create_manual_draft_api_v1_manuals_draft_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ManualDraftCreateFromConsultationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "생성 성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualDraftCreateResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "comparison_type": "supplement",
                    "draft_entry": {
                      "id": "uuid-draft",
                      "topic": "로그인 실패"
                    },
                    "existing_manual": {
                      "id": "uuid-existing",
                      "topic": "로그인 오류"
                    },
                    "similarity_score": 0.82,
                    "review_task_id": "uuid-task-123"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - 유효하지 않은 입력",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "ValidationError",
                    "message": "입력값이 유효하지 않습니다",
                    "details": {
                      "field": "error message"
                    },
                    "hint": "필드를 확인해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "404": {
            "description": "Not Found - 리소스를 찾을 수 없음",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "RecordNotFoundError",
                    "message": "요청한 리소스를 찾을 수 없습니다"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity - 필드 검증 실패",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "ValidationError",
                    "message": "필드 검증에 실패했습니다",
                    "details": {
                      "inquiry_text": [
                        "최소 10자 이상이어야 합니다"
                      ]
                    }
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - 서버 오류",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "INTERNAL.UNEXPECTED",
                    "message": "예기치 않은 서버 오류가 발생했습니다",
                    "hint": "관리자에게 문의해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/manuals/approve/{manual_id}": {
      "post": {
        "tags": [
          "manuals"
        ],
        "summary": "Approve manual and bump version set",
        "description": "메뉴얼 초안 승인 및 버전 관리\n\nFR-4, FR-5: 메뉴얼 검토 완료 및 버전 업그레이드\n\n**경로 파라미터:**\n- manual_id: 메뉴얼 ID (UUID)\n\n**요청:**\n```json\n{\n  \"reviewer_notes\": \"검토 의견: 내용이 정확합니다\",\n  \"create_version\": true\n}\n```\n\n**응답 (200 OK):**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"manual_id\": \"uuid-manual-1\",\n    \"version\": \"v1.7\",\n    \"status\": \"APPROVED\",\n    \"topic\": \"로그인 실패\",\n    \"keywords\": [\"로그인\", \"인증\", \"실패\"],\n    \"background\": \"고객이 올바른 자격증명으로 로그인 시도 시 실패하는 현상\",\n    \"guidelines\": [{\"title\": \"조치1\", \"description\": \"비밀번호 초기화...\"}],\n    \"business_type\": \"인터넷뱅킹\",\n    \"error_code\": \"E001\",\n    \"created_at\": \"2024-12-16T10:35:00Z\",\n    \"updated_at\": \"2024-12-16T11:00:00Z\"\n  },\n  \"error\": null,\n  \"meta\": {...},\n  \"feedback\": []\n}\n```\n\n**에러 응답:**\n- 404 Not Found: 메뉴얼을 찾을 수 없음\n- 400 Bad Request: 비즈니스 로직 오류 (DRAFT 아님, 이미 승인됨 등)\n- 409 Conflict: 재검토 필요 (NeedsReReviewError)\n\n**동작:**\n1. DRAFT 상태 메뉴얼만 승인 가능\n2. 메뉴얼 상태를 APPROVED로 변경\n3. 버전 번호 자동 상향 (v1.6 → v1.7)\n4. 기존 APPROVED 메뉴얼은 DEPRECATED로 변경\n5. 벡터스토어 인덱스 업데이트\n\n**reviewer_notes:**\n- 검토자의 의견/피드백\n- 거절 시 이유 기입 필수",
        "operationId": "approve_manual_api_v1_manuals_approve__manual_id__post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "manual_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Manual Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ManualApproveRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualVersionInfo"
                },
                "example": {
                  "success": true,
                  "data": {
                    "manual_id": "uuid-manual-1",
                    "version": "v1.7",
                    "status": "APPROVED",
                    "topic": "로그인 실패"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - 유효하지 않은 입력",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "ValidationError",
                    "message": "입력값이 유효하지 않습니다",
                    "details": {
                      "field": "error message"
                    },
                    "hint": "필드를 확인해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "404": {
            "description": "Not Found - 리소스를 찾을 수 없음",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "RecordNotFoundError",
                    "message": "요청한 리소스를 찾을 수 없습니다"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "409": {
            "description": "Conflict - 상태 충돌",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "NeedsReReviewError",
                    "message": "재검토가 필요합니다",
                    "hint": "다시 검토해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - 서버 오류",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "INTERNAL.UNEXPECTED",
                    "message": "예기치 않은 서버 오류가 발생했습니다",
                    "hint": "관리자에게 문의해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals/versions": {
      "get": {
        "tags": [
          "manuals"
        ],
        "summary": "Get manual versions by business type and error code",
        "description": "메뉴얼 버전 목록 조회 (업무 구분 + 에러 코드별)\n\nFR-11: 메뉴얼 버전 관리\n\n**쿼리 파라미터:**\n- business_type: 업무 구분 (필수, 예: \"인터넷뱅킹\")\n- error_code: 에러 코드 (필수, 예: \"E001\")\n- include_deprecated: DEPRECATED 버전 포함 여부 (기본값: false)\n\n**응답 (200 OK):**\n```json\n{\n  \"success\": true,\n  \"data\": [\n    {\n      \"value\": \"v1.5\",\n      \"label\": \"v1.5 (구 버전)\",\n      \"date\": \"2024-12-01\",\n      \"status\": \"DEPRECATED\",\n      \"manual_id\": \"uuid-xxx\"\n    },\n    {\n      \"value\": \"v1.6\",\n      \"label\": \"v1.6 (현재 운영 버전)\",\n      \"date\": \"2024-12-05\",\n      \"status\": \"APPROVED\",\n      \"manual_id\": \"uuid-yyy\"\n    }\n  ],\n  \"error\": null,\n  \"meta\": {...},\n  \"feedback\": []\n}\n```\n\n**용도:**\n- 초안 작성 전: UI의 드롭다운에서 과거 버전 선택 가능\n- 특정 버전과 비교하고 싶을 때 선택\n- 버전 히스토리 확인\n\n**응답 정렬:**\n- 최신순 (v1.6 → v1.5)\n\n**에러 응답:**\n- 404 Not Found: 해당 조건의 메뉴얼 없음",
        "operationId": "get_versions_by_group_api_v1_manuals_versions_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "business_type",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "업무 구분 (예: 인터넷뱅킹)",
              "title": "Business Type"
            },
            "description": "업무 구분 (예: 인터넷뱅킹)"
          },
          {
            "name": "error_code",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "에러 코드 (예: E001)",
              "title": "Error Code"
            },
            "description": "에러 코드 (예: E001)"
          },
          {
            "name": "include_deprecated",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "DEPRECATED 버전 포함 여부",
              "default": false,
              "title": "Include Deprecated"
            },
            "description": "DEPRECATED 버전 포함 여부"
          }
        ],
        "responses": {
          "200": {
            "description": "성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ManualVersionResponse"
                  },
                  "title": "Response Get Versions By Group Api V1 Manuals Versions Get"
                },
                "example": {
                  "success": true,
                  "data": [
                    {
                      "value": "v1.6",
                      "label": "v1.6 (현재 버전)",
                      "status": "APPROVED"
                    }
                  ],
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "404": {
            "description": "Not Found - 리소스를 찾을 수 없음",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "RecordNotFoundError",
                    "message": "요청한 리소스를 찾을 수 없습니다"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - 서버 오류",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "INTERNAL.UNEXPECTED",
                    "message": "예기치 않은 서버 오류가 발생했습니다",
                    "hint": "관리자에게 문의해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals/{manual_id}/versions": {
      "get": {
        "tags": [
          "manuals"
        ],
        "summary": "List manual versions",
        "description": "특정 메뉴얼의 버전 목록 조회\n\n**경로 파라미터:**\n- manual_id: 메뉴얼 ID (UUID)\n\n**응답 (200 OK):**\n```json\n{\n  \"success\": true,\n  \"data\": [\n    {\n      \"value\": \"v1.6\",\n      \"label\": \"v1.6 (현재 버전)\",\n      \"date\": \"2024-12-05\",\n      \"status\": \"APPROVED\",\n      \"manual_id\": \"uuid-yyy\"\n    },\n    {\n      \"value\": \"v1.5\",\n      \"label\": \"v1.5 (구 버전)\",\n      \"date\": \"2024-12-01\",\n      \"status\": \"DEPRECATED\",\n      \"manual_id\": \"uuid-xxx\"\n    }\n  ],\n  \"error\": null,\n  \"meta\": {...},\n  \"feedback\": []\n}\n```\n\n**동작:**\n- 지정된 메뉴얼과 같은 business_type/error_code를 가진 그룹의 모든 버전 반환\n- 최신순 정렬 (v1.6 → v1.5)\n\n**에러 응답:**\n- 404 Not Found: 메뉴얼을 찾을 수 없음",
        "operationId": "list_versions_api_v1_manuals__manual_id__versions_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "manual_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Manual Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ManualVersionResponse"
                  },
                  "title": "Response List Versions Api V1 Manuals  Manual Id  Versions Get"
                },
                "example": {
                  "success": true,
                  "data": [
                    {
                      "value": "v1.6",
                      "label": "v1.6 (현재 버전)"
                    }
                  ],
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "404": {
            "description": "Not Found - 리소스를 찾을 수 없음",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "RecordNotFoundError",
                    "message": "요청한 리소스를 찾을 수 없습니다"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - 서버 오류",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "INTERNAL.UNEXPECTED",
                    "message": "예기치 않은 서버 오류가 발생했습니다",
                    "hint": "관리자에게 문의해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals/{manual_id}/versions/{version}": {
      "get": {
        "tags": [
          "manuals"
        ],
        "summary": "Get manual detail by version",
        "description": "특정 버전의 메뉴얼 상세 조회\n\n**경로 파라미터:**\n- manual_id: 메뉴얼 ID (UUID)\n- version: 버전 (예: \"v1.6\", \"DRAFT\")\n\n**응답 (200 OK):**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"manual_id\": \"uuid-xxx\",\n    \"version\": \"v1.6\",\n    \"topic\": \"로그인 실패\",\n    \"keywords\": [\"로그인\", \"인증\", \"실패\"],\n    \"background\": \"고객이 올바른 자격증명으로 로그인 시도 시 실패하는 현상\",\n    \"guidelines\": [\n      {\n        \"title\": \"비밀번호 초기화\",\n        \"description\": \"사용자의 비밀번호를 임시 비밀번호로 초기화합니다\"\n      },\n      {\n        \"title\": \"계정 확인\",\n        \"description\": \"계정이 잠금 상태인지 확인합니다\"\n      }\n    ],\n    \"status\": \"APPROVED\",\n    \"business_type\": \"인터넷뱅킹\",\n    \"error_code\": \"E001\",\n    \"updated_at\": \"2024-12-05T10:00:00Z\"\n  },\n  \"error\": null,\n  \"meta\": {...},\n  \"feedback\": []\n}\n```\n\n**주요 필드:**\n- guidelines: 배열로 변환 (각 항목은 {title, description})\n- status: APPROVED, DEPRECATED, DRAFT\n- version: 버전 번호 (v1.6, DRAFT 등)\n\n**에러 응답:**\n- 404 Not Found: 메뉴얼 또는 버전을 찾을 수 없음",
        "operationId": "get_manual_by_version_api_v1_manuals__manual_id__versions__version__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "manual_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Manual Id"
            }
          },
          {
            "name": "version",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Version"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualDetailResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "manual_id": "uuid-xxx",
                    "version": "v1.6",
                    "topic": "로그인 실패",
                    "guidelines": [
                      {
                        "title": "비밀번호 초기화"
                      }
                    ]
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "404": {
            "description": "Not Found - 리소스를 찾을 수 없음",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "RecordNotFoundError",
                    "message": "요청한 리소스를 찾을 수 없습니다"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - 서버 오류",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "INTERNAL.UNEXPECTED",
                    "message": "예기치 않은 서버 오류가 발생했습니다",
                    "hint": "관리자에게 문의해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals/{manual_id}/diff": {
      "get": {
        "tags": [
          "manuals"
        ],
        "summary": "Diff manual versions in the same group",
        "description": "메뉴얼 버전 간 차이 비교\n\nFR-14: 메뉴얼 버전 비교\n\n**경로 파라미터:**\n- manual_id: 메뉴얼 ID (UUID)\n\n**쿼리 파라미터:**\n- base_version: 비교 기준 버전 (예: \"v1.5\")\n- compare_version: 비교 대상 버전 (예: \"v1.6\")\n- summarize: 변경사항 요약 여부 (기본값: false)\n\n**응답 (200 OK):**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"manual_id\": \"uuid-xxx\",\n    \"base_version\": \"v1.5\",\n    \"compare_version\": \"v1.6\",\n    \"differences\": {\n      \"added_entries\": [\n        {\n          \"field\": \"guidelines[2]\",\n          \"value\": {\n            \"title\": \"계정 확인\",\n            \"description\": \"계정이 잠금 상태인지 확인합니다\"\n          }\n        }\n      ],\n      \"modified_entries\": [\n        {\n          \"field\": \"background\",\n          \"old_value\": \"로그인 인증 실패\",\n          \"new_value\": \"고객이 올바른 자격증명으로 로그인 시도 시 실패하는 현상\"\n        }\n      ],\n      \"removed_entries\": []\n    },\n    \"summary\": \"배경 정보 수정, 가이드라인 1개 추가\"\n  },\n  \"error\": null,\n  \"meta\": {...},\n  \"feedback\": []\n}\n```\n\n**에러 응답:**\n- 404 Not Found: 메뉴얼 또는 버전을 찾을 수 없음\n- 400 Bad Request: 유효하지 않은 버전",
        "operationId": "diff_manual_versions_api_v1_manuals__manual_id__diff_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "manual_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Manual Id"
            }
          },
          {
            "name": "base_version",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Base Version"
            }
          },
          {
            "name": "compare_version",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Compare Version"
            }
          },
          {
            "name": "summarize",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Summarize"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualVersionDiffResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "manual_id": "uuid-xxx",
                    "base_version": "v1.5",
                    "compare_version": "v1.6",
                    "differences": {
                      "added_entries": [],
                      "modified_entries": []
                    }
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - 유효하지 않은 입력",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "ValidationError",
                    "message": "입력값이 유효하지 않습니다",
                    "details": {
                      "field": "error message"
                    },
                    "hint": "필드를 확인해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "404": {
            "description": "Not Found - 리소스를 찾을 수 없음",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "RecordNotFoundError",
                    "message": "요청한 리소스를 찾을 수 없습니다"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - 서버 오류",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "INTERNAL.UNEXPECTED",
                    "message": "예기치 않은 서버 오류가 발생했습니다",
                    "hint": "관리자에게 문의해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals/drafts/{draft_id}/diff-with-active": {
      "get": {
        "tags": [
          "manuals"
        ],
        "summary": "Diff draft set with active version",
        "description": "초안 vs 운영 버전 비교\n\nFR-14: 메뉴얼 초안 검토 전 변화 미리보기\n\n**경로 파라미터:**\n- draft_id: 초안 메뉴얼 ID (UUID)\n\n**쿼리 파라미터:**\n- summarize: 변경사항 요약 여부 (기본값: false)\n\n**응답 (200 OK):**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"manual_id\": \"uuid-xxx\",\n    \"base_version\": \"v1.6\",\n    \"compare_version\": \"DRAFT\",\n    \"differences\": {\n      \"added_entries\": [...],\n      \"modified_entries\": [...],\n      \"removed_entries\": []\n    },\n    \"summary\": \"배경 정보 수정, 가이드라인 1개 추가\"\n  },\n  \"error\": null,\n  \"meta\": {...},\n  \"feedback\": []\n}\n```\n\n**용도:**\n- 검토자가 초안 승인 전 변화 확인\n- 현재 운영 버전과의 차이 시각화\n\n**에러 응답:**\n- 404 Not Found: 초안을 찾을 수 없음\n- 400 Bad Request: 초안이 DRAFT 상태가 아님",
        "operationId": "diff_draft_with_active_api_v1_manuals_drafts__draft_id__diff_with_active_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "draft_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Draft Id"
            }
          },
          {
            "name": "summarize",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Summarize"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualVersionDiffResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "manual_id": "uuid-xxx",
                    "base_version": "v1.6",
                    "compare_version": "DRAFT",
                    "differences": {
                      "added_entries": []
                    }
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - 유효하지 않은 입력",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "ValidationError",
                    "message": "입력값이 유효하지 않습니다",
                    "details": {
                      "field": "error message"
                    },
                    "hint": "필드를 확인해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "404": {
            "description": "Not Found - 리소스를 찾을 수 없음",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "RecordNotFoundError",
                    "message": "요청한 리소스를 찾을 수 없습니다"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - 서버 오류",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "INTERNAL.UNEXPECTED",
                    "message": "예기치 않은 서버 오류가 발생했습니다",
                    "hint": "관리자에게 문의해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals": {
      "get": {
        "tags": [
          "manuals"
        ],
        "summary": "List manual entries",
        "description": "메뉴얼 목록 조회\n\n**쿼리 파라미터:**\n- status_filter: 상태 필터 (DRAFT, APPROVED, DEPRECATED, 선택사항)\n- limit: 반환 개수 제한 (기본값: 100)\n\n**응답 (200 OK):**\n```json\n{\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": \"uuid-1\",\n      \"business_type\": \"인터넷뱅킹\",\n      \"error_code\": \"E001\",\n      \"topic\": \"로그인 실패\",\n      \"keywords\": [\"로그인\", \"인증\", \"실패\"],\n      \"background\": \"고객이 올바른 자격증명으로 로그인 시도 시 실패하는 현상\",\n      \"guidelines\": [{\"title\": \"비밀번호 초기화\", \"description\": \"...\"}],\n      \"status\": \"APPROVED\",\n      \"version\": \"v1.6\",\n      \"created_at\": \"2024-12-16T10:35:00Z\"\n    }\n  ],\n  \"error\": null,\n  \"meta\": {...},\n  \"feedback\": []\n}\n```\n\n**프론트엔드 필터링:**\n- status_filter=DRAFT: DRAFT 상태만 (초안)\n- status_filter=APPROVED: APPROVED 상태만 (운영)\n- status_filter=DEPRECATED: DEPRECATED 상태만 (구 버전)\n- 미지정: 전체 메뉴얼 조회\n\nTODO: 페이지네이션 추가 예정",
        "operationId": "list_manuals_api_v1_manuals_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "status_filter",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/ManualStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status Filter"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ManualEntryResponse"
                  },
                  "title": "Response List Manuals Api V1 Manuals Get"
                },
                "example": {
                  "success": true,
                  "data": [
                    {
                      "id": "uuid-1",
                      "topic": "로그인 실패",
                      "status": "APPROVED"
                    }
                  ],
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - 서버 오류",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "INTERNAL.UNEXPECTED",
                    "message": "예기치 않은 서버 오류가 발생했습니다",
                    "hint": "관리자에게 문의해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals/search": {
      "get": {
        "tags": [
          "manuals"
        ],
        "summary": "Search manuals by similarity",
        "description": "메뉴얼 검색 (벡터 유사도 기반)\n\nFR-8: 메뉴얼 검색 기능\n\n**쿼리 파라미터:**\n- query: 검색어 (필수, 예: \"로그인 오류\")\n- top_k: 상위 결과 개수 (기본값: 10)\n- status: 상태 필터 (APPROVED, DRAFT, DEPRECATED, 선택사항)\n- business_type: 업무 구분 필터 (선택사항)\n- error_code: 에러 코드 필터 (선택사항)\n\n**응답 (200 OK):**\n```json\n    {\n\"success\": true,\n\"data\": [\n    {\n    \"manual\": {\n        \"created_at\": \"2025-12-19T00:54:56.876912Z\",\n        \"updated_at\": \"2025-12-19T07:17:46.249852Z\",\n        \"id\": \"de9d2d35-c4ea-4a7d-b66c-55e79471cb83\",\n        \"keywords\": [\n        \"카드\",\n        \"한도 초과\",\n        \"거래\"\n        ],\n        \"topic\": \"카드 결제 승인 시 한도 초과 메시지 발생\",\n        \"background\": \"고객 카드 한도 확인 후 일시적으로 한도 상향 안내 및 승인 재요청\",\n        \"guideline\": \"승인 재요청 후 정상 처리\",\n        \"business_type\": \"TEST\",\n        \"error_code\": \"TEST\",\n        \"source_consultation_id\": \"6efdcd37-961b-48cf-8c0f-babf4dfe93bc\",\n        \"version_id\": \"1f2493e4-e635-48de-b5e0-092189175a65\",\n        \"status\": \"APPROVED\",\n        \"business_type_name\": \"테스트\"\n    },\n    \"similarity_score\": 0.5590785880416913\n    },\n    {\n    \"manual\": {\n        \"created_at\": \"2025-12-19T08:23:46.425809Z\",\n        \"updated_at\": \"2025-12-21T10:47:14.657491Z\",\n        \"id\": \"e8ce4568-caa1-4d20-807b-9ff079d268c7\",\n        \"keywords\": [\n        \"카드\",\n        \"비밀번호\",\n        \"오류\"\n        ],\n        \"topic\": \"카드 비밀번호 오류로 결제 승인 실패\",\n        \"background\": \"비밀번호 3회 오류로 잠김 상태 확인, 본인 인증 후 비밀번호 초기화 진행, 결제 정상 처리\",\n        \"guideline\": \"비밀번호 오류 시 잠김 상태 확인 후 본인 인증 및 초기화 진행\",\n        \"business_type\": \"TEST\",\n        \"error_code\": \"TEST\",\n        \"source_consultation_id\": \"6d36e5e2-e61e-4ced-a0ac-f56aff3d78e7\",\n        \"version_id\": \"9fd68c89-7edd-4221-b7ee-dd63e2f2a5d0\",\n        \"status\": \"APPROVED\",\n        \"business_type_name\": \"테스트\"\n    },\n    \"similarity_score\": 0.5474678795543835\n    }\n],\n\"error\": null,\n\"meta\": {\n    \"requestId\": \"6d26ba6c-544d-4973-b9b4-e87ca81b0bd9\",\n    \"timestamp\": \"2025-12-21T10:47:32.188446Z\"\n},\n\"feedback\": []\n}\n```\n\n**동작:**\n1. 쿼리를 벡터화하여 VectorStore에서 semantic search\n2. 상위 top_k개 결과 반환\n3. 메타데이터 필터 (status, business_type, error_code) 적용\n4. 유사도 임계값(threshold) 이상의 결과만 필터링\n5. 유사도 점수(0-1) 포함하여 반환\n\n**프론트엔드 필터:**\n- status=APPROVED: 운영 중인 메뉴얼만\n- status=DRAFT: 검토 중인 초안만\n- 미지정: 전체 조회\n\n**예시:**\n```\nGET /manuals/search?query=로그인&top_k=5&status=APPROVED\n```",
        "operationId": "search_manuals_api_v1_manuals_search_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "title": "Query"
            }
          },
          {
            "name": "business_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Business Type"
            }
          },
          {
            "name": "error_code",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Error Code"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/ManualStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "name": "top_k",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "default": 10,
              "title": "Top K"
            }
          },
          {
            "name": "similarity_threshold",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "maximum": 1,
              "minimum": 0,
              "default": 0.7,
              "title": "Similarity Threshold"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseEnvelope_list_ManualSearchResult__"
                },
                "example": {
                  "success": true,
                  "data": [
                    {
                      "manual": {
                        "id": "de9d2d35-c4ea-4a7d-b66c-55e79471cb83",
                        "created_at": "2025-12-19T00:54:56.876912Z",
                        "updated_at": "2025-12-19T07:17:46.249852Z",
                        "keywords": [
                          "카드",
                          "한도 초과",
                          "거래"
                        ],
                        "topic": "카드 결제 승인 시 한도 초과 메시지 발생",
                        "background": "고객 카드 한도 확인 후 일시적으로 한도 상향 안내 및 승인 재요청",
                        "guideline": "승인 재요청 후 정상 처리",
                        "business_type": "TEST",
                        "error_code": "TEST",
                        "source_consultation_id": "6efdcd37-961b-48cf-8c0f-babf4dfe93bc",
                        "version_id": "1f2493e4-e635-48de-b5e0-092189175a65",
                        "status": "APPROVED",
                        "business_type_name": "테스트"
                      },
                      "similarity_score": 0.56
                    }
                  ],
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - 유효하지 않은 입력",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "ValidationError",
                    "message": "입력값이 유효하지 않습니다",
                    "details": {
                      "field": "error message"
                    },
                    "hint": "필드를 확인해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - 서버 오류",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "INTERNAL.UNEXPECTED",
                    "message": "예기치 않은 서버 오류가 발생했습니다",
                    "hint": "관리자에게 문의해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals/{manual_id}": {
      "put": {
        "tags": [
          "manuals"
        ],
        "summary": "Update manual entry",
        "description": "메뉴얼 초안 수정\n\n    FR-4: 메뉴얼 초안 편집\n\n    **경로 파라미터:**\n    - manual_id: 메뉴얼 ID (UUID)\n\n    **요청:**\n    ```json\n    {\n      \"topic\": \"로그인 오류 해결 방법\",\n      \"keywords\": [\"로그인\", \"인증\", \"실패\"],\n      \"background\": \"고객이 올바른 자격증명으로 로그인 시도 시 실패하는 현상\",\n      \"guideline\": \"비밀번호 초기화\n\n계정 확인\"\n    }\n    ```\n\n    **응답 (200 OK):**\n    ```json\n    {\n      \"success\": true,\n      \"data\": {\n        \"id\": \"uuid-xxx\",\n        \"business_type\": \"인터넷뱅킹\",\n        \"error_code\": \"E001\",\n        \"topic\": \"로그인 오류 해결 방법\",\n        \"keywords\": [\"로그인\", \"인증\", \"실패\"],\n        \"background\": \"고객이 올바른 자격증명으로 로그인 시도 시 실패하는 현상\",\n        \"guidelines\": [{\"title\": \"비밀번호 초기화\", \"description\": \"...\"}],\n        \"status\": \"DRAFT\",\n        \"version\": null,\n        \"created_at\": \"2024-12-16T10:35:00Z\"\n      },\n      \"error\": null,\n      \"meta\": {...},\n      \"feedback\": []\n    }\n    ```\n\n    **요청 필드:**\n    - topic: 메뉴얼 제목 (5-200자, 선택사항)\n    - keywords: 검색 키워드 배열 (1-3개, 선택사항)\n    - background: 배경 정보 (최소 10자, 선택사항)\n    - guideline: 조치사항 (줄바꿈으로 구분, 선택사항)\n\n    **제약사항:**\n    - DRAFT 상태인 메뉴얼만 수정 가능\n    - APPROVED 상태로의 변경은 /approve 엔드포인트 사용\n    - 검토 중(IN_PROGRESS) 상태에서는 수정 불가\n\n    **에러 응답:**\n    - 404 Not Found: 메뉴얼을 찾을 수 없음\n    - 400 Bad Request: DRAFT 상태가 아님, 검증 실패",
        "operationId": "update_manual_api_v1_manuals__manual_id__put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "manual_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Manual Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ManualEntryUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualEntryResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "uuid-xxx",
                    "topic": "로그인 오류 해결 방법",
                    "status": "DRAFT"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - 유효하지 않은 입력",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "ValidationError",
                    "message": "입력값이 유효하지 않습니다",
                    "details": {
                      "field": "error message"
                    },
                    "hint": "필드를 확인해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "404": {
            "description": "Not Found - 리소스를 찾을 수 없음",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "RecordNotFoundError",
                    "message": "요청한 리소스를 찾을 수 없습니다"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - 서버 오류",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "INTERNAL.UNEXPECTED",
                    "message": "예기치 않은 서버 오류가 발생했습니다",
                    "hint": "관리자에게 문의해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "manuals"
        ],
        "summary": "Get manual detail",
        "description": "메뉴얼 상세 조회\n\n**경로 파라미터:**\n- manual_id: 메뉴얼 ID (UUID)\n\n**응답 (200 OK):**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"uuid-xxx\",\n    \"business_type\": \"인터넷뱅킹\",\n    \"error_code\": \"E001\",\n    \"topic\": \"로그인 실패\",\n    \"keywords\": [\"로그인\", \"인증\", \"실패\"],\n    \"background\": \"고객이 올바른 자격증명으로 로그인 시도 시 실패하는 현상\",\n    \"guidelines\": [{\"title\": \"비밀번호 초기화\", \"description\": \"...\"}],\n    \"status\": \"APPROVED\",\n    \"version\": \"v1.6\",\n    \"created_at\": \"2024-12-05T10:00:00Z\"\n  },\n  \"error\": null,\n  \"meta\": {...},\n  \"feedback\": []\n}\n```\n\n**에러 응답:**\n- 404 Not Found: 메뉴얼을 찾을 수 없음",
        "operationId": "get_manual_detail_api_v1_manuals__manual_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "manual_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Manual Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualEntryResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "uuid-xxx",
                    "topic": "로그인 실패",
                    "status": "APPROVED"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "404": {
            "description": "Not Found - 리소스를 찾을 수 없음",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "RecordNotFoundError",
                    "message": "요청한 리소스를 찾을 수 없습니다"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - 서버 오류",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "INTERNAL.UNEXPECTED",
                    "message": "예기치 않은 서버 오류가 발생했습니다",
                    "hint": "관리자에게 문의해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "manuals"
        ],
        "summary": "Delete manual draft",
        "description": "메뉴얼 초안 삭제\n\n**경로 파라미터:**\n- manual_id: 메뉴얼 ID (UUID)\n\n**요청:**\n```\nDELETE /manuals/{manual_id}\n```\n\n**응답:**\n- 204 No Content: 삭제 성공 (응답 본문 없음)\n\n**에러 응답:**\n- 404 Not Found: 메뉴얼을 찾을 수 없음\n- 400 Bad Request: DRAFT 상태가 아님\n\n**제약사항:**\n- DRAFT 상태인 메뉴얼만 삭제 가능\n- APPROVED/DEPRECATED 상태는 삭제 불가\n- 삭제 시 다음도 함께 삭제:\n  - 벡터스토어 인덱스\n  - 관련 리뷰 태스크\n\n**프론트엔드 처리:**\n- 204 응답 시: 목록에서 해당 항목 제거\n- 400 응답 시: \"DRAFT 상태 초안만 삭제 가능합니다\" 메시지 표시",
        "operationId": "delete_manual_api_v1_manuals__manual_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "manual_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Manual Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "400": {
            "description": "Bad Request - 유효하지 않은 입력",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "ValidationError",
                    "message": "입력값이 유효하지 않습니다",
                    "details": {
                      "field": "error message"
                    },
                    "hint": "필드를 확인해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "404": {
            "description": "Not Found - 리소스를 찾을 수 없음",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "RecordNotFoundError",
                    "message": "요청한 리소스를 찾을 수 없습니다"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - 서버 오류",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "INTERNAL.UNEXPECTED",
                    "message": "예기치 않은 서버 오류가 발생했습니다",
                    "hint": "관리자에게 문의해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals/{manual_id}/approved-group": {
      "get": {
        "tags": [
          "manuals"
        ],
        "summary": "Get approved manuals sharing business_type and error_code",
        "description": "동일 그룹의 APPROVED 메뉴얼 목록 조회\n\n**경로 파라미터:**\n- manual_id: 메뉴얼 ID (UUID)\n\n**응답 (200 OK):**\n```json\n{\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": \"uuid-1\",\n      \"business_type\": \"인터넷뱅킹\",\n      \"error_code\": \"E001\",\n      \"topic\": \"로그인 실패\",\n      \"status\": \"APPROVED\",\n      \"version\": \"v1.6\",\n      \"created_at\": \"2024-12-05T10:00:00Z\"\n    }\n  ],\n  \"error\": null,\n  \"meta\": {...},\n  \"feedback\": []\n}\n```\n\n**동작:**\n- 지정된 메뉴얼과 같은 business_type + error_code를 가진 APPROVED 메뉴얼만 반환\n- 운영 중인 버전 목록 (과거 DEPRECATED 버전 제외)\n\n**에러 응답:**\n- 404 Not Found: 메뉴얼을 찾을 수 없음\n- 400 Bad Request: 그룹 정보 오류",
        "operationId": "get_approved_group_manuals_api_v1_manuals__manual_id__approved_group_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "manual_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Manual Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ManualEntryResponse"
                  },
                  "title": "Response Get Approved Group Manuals Api V1 Manuals  Manual Id  Approved Group Get"
                },
                "example": {
                  "success": true,
                  "data": [
                    {
                      "id": "uuid-1",
                      "topic": "로그인 실패",
                      "status": "APPROVED"
                    }
                  ],
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - 유효하지 않은 입력",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "ValidationError",
                    "message": "입력값이 유효하지 않습니다",
                    "details": {
                      "field": "error message"
                    },
                    "hint": "필드를 확인해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "404": {
            "description": "Not Found - 리소스를 찾을 수 없음",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "RecordNotFoundError",
                    "message": "요청한 리소스를 찾을 수 없습니다"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - 서버 오류",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "INTERNAL.UNEXPECTED",
                    "message": "예기치 않은 서버 오류가 발생했습니다",
                    "hint": "관리자에게 문의해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals/{manual_id}/review-tasks": {
      "get": {
        "tags": [
          "manuals"
        ],
        "summary": "Get review tasks for a manual",
        "description": "메뉴얼의 검토 태스크 목록 조회\n\nFR-6: 메뉴얼 검토 태스크 조회\n\n**경로 파라미터:**\n- manual_id: 메뉴얼 ID (UUID)\n\n**응답 (200 OK):**\n```json\n{\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": \"uuid-task-1\",\n      \"new_entry_id\": \"uuid-manual-draft\",\n      \"old_entry_id\": \"uuid-manual-existing\",\n      \"similarity\": 0.82,\n      \"comparison_type\": \"supplement\",\n      \"status\": \"TODO\",\n      \"reviewer_id\": null,\n      \"review_notes\": null,\n      \"new_manual_summary\": \"신규 메뉴얼 요약\",\n      \"old_manual_summary\": \"기존 메뉴얼 요약\",\n      \"business_type\": \"INTERNET_BANKING\",\n      \"business_type_name\": \"인터넷뱅킹\",\n      \"new_error_code\": \"E001\",\n      \"new_manual_topic\": \"로그인 실패\",\n      \"new_manual_keywords\": [\"로그인\", \"실패\"],\n      \"old_business_type\": \"INTERNET_BANKING\",\n      \"old_business_type_name\": \"인터넷뱅킹\",\n      \"old_error_code\": \"E001\",\n      \"old_manual_topic\": \"로그인 오류\",\n      \"old_manual_keywords\": [\"로그인\"],\n      \"created_at\": \"2024-12-10T12:00:00Z\",\n      \"updated_at\": \"2024-12-10T12:00:00Z\"\n    }\n  ],\n  \"error\": null,\n  \"meta\": {...},\n  \"feedback\": []\n}\n```\n\n**주요 필드 설명:**\n- new_entry_id: 신규 상담 기반 초안 ID\n- old_entry_id: 기존 메뉴얼 ID (신규인 경우 null)\n- similarity: 유사도 점수 (0-1, new인 경우 null)\n- comparison_type: \"similar\"|\"supplement\"|\"new\"\n  - similar: 기존과 99% 이상 유사 (자동 승인 가능)\n  - supplement: 기존 개선 버전 (검토 필요)\n  - new: 신규 메뉴얼 (검토 필요)\n- status: \"TODO\"|\"IN_PROGRESS\"|\"DONE\"|\"REJECTED\"\n  - TODO: 미처리\n  - IN_PROGRESS: 검토 중\n  - DONE: 승인됨\n  - REJECTED: 거절됨\n\n**에러 응답:**\n- 404 Not Found: 메뉴얼을 찾을 수 없음\n\n**프론트엔드 처리:**\n- status=TODO인 항목: \"검토 대기중\" 표시\n- status=IN_PROGRESS인 항목: \"검토 중\" 표시\n- status=DONE인 항목: \"승인됨\" 표시\n- status=REJECTED인 항목: \"거절됨\" 표시",
        "operationId": "get_manual_review_tasks_api_v1_manuals__manual_id__review_tasks_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "manual_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Manual Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ManualReviewTaskResponse"
                  },
                  "title": "Response Get Manual Review Tasks Api V1 Manuals  Manual Id  Review Tasks Get"
                },
                "example": {
                  "success": true,
                  "data": [
                    {
                      "id": "uuid-task-1",
                      "status": "TODO",
                      "comparison_type": "supplement",
                      "similarity": 0.82
                    }
                  ],
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "404": {
            "description": "Not Found - 리소스를 찾을 수 없음",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "RecordNotFoundError",
                    "message": "요청한 리소스를 찾을 수 없습니다"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - 서버 오류",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "INTERNAL.UNEXPECTED",
                    "message": "예기치 않은 서버 오류가 발생했습니다",
                    "hint": "관리자에게 문의해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manual-review/tasks": {
      "get": {
        "tags": [
          "tasks"
        ],
        "summary": "List manual review tasks",
        "description": "메뉴얼 검토 태스크 목록 조회\n\nFR-6: 메뉴얼 검토 태스크 관리\n\n**쿼리 파라미터:**\n- status: 상태 필터 (TODO, IN_PROGRESS, DONE, REJECTED, 선택사항)\n- limit: 반환 개수 제한 (기본값: 100)\n\n**응답 (200 OK):**\n```json\n{\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": \"uuid-task-1\",\n      \"new_entry_id\": \"uuid-manual-draft\",\n      \"old_entry_id\": \"uuid-manual-existing\",\n      \"similarity\": 0.82,\n      \"comparison_type\": \"supplement\",\n      \"status\": \"TODO\",\n      \"reviewer_id\": null,\n      \"review_notes\": null,\n      \"new_manual_summary\": \"신규 메뉴얼 요약\",\n      \"old_manual_summary\": \"기존 메뉴얼 요약\",\n      \"business_type\": \"INTERNET_BANKING\",\n      \"business_type_name\": \"인터넷뱅킹\",\n      \"new_error_code\": \"E001\",\n      \"new_manual_topic\": \"로그인 실패\",\n      \"new_manual_keywords\": [\"로그인\", \"실패\"],\n      \"old_business_type\": \"INTERNET_BANKING\",\n      \"old_business_type_name\": \"인터넷뱅킹\",\n      \"old_error_code\": \"E001\",\n      \"old_manual_topic\": \"로그인 오류\",\n      \"old_manual_keywords\": [\"로그인\"],\n      \"created_at\": \"2024-12-10T12:00:00Z\",\n      \"updated_at\": \"2024-12-10T12:00:00Z\"\n    }\n  ],\n  \"error\": null,\n  \"meta\": {...},\n  \"feedback\": []\n}\n```\n\n**상태별 필터링:**\n- status=TODO: 미처리 (검토 대기)\n- status=IN_PROGRESS: 검토 중\n- status=DONE: 승인됨\n- status=REJECTED: 거절됨\n- 미지정: 전체 태스크 조회\n\n**검토자 워크플로우:**\n1. 목록에서 status=TODO인 항목 조회\n2. /manual-review/tasks/{task_id} (PUT)로 검토 시작 (상태→IN_PROGRESS)\n3. /manual-review/tasks/{task_id}/approve (POST)로 승인 또는\n   /manual-review/tasks/{task_id}/reject (POST)로 거절\n\nTODO: 페이지네이션, 정렬 옵션 추가 예정",
        "operationId": "list_review_tasks_api_v1_manual_review_tasks_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "status_filter",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status Filter"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ManualReviewTaskResponse"
                  },
                  "title": "Response List Review Tasks Api V1 Manual Review Tasks Get"
                },
                "example": {
                  "success": true,
                  "data": [
                    {
                      "id": "uuid-task-1",
                      "status": "TODO",
                      "comparison_type": "supplement",
                      "similarity": 0.82
                    }
                  ],
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - 서버 오류",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "INTERNAL.UNEXPECTED",
                    "message": "예기치 않은 서버 오류가 발생했습니다",
                    "hint": "관리자에게 문의해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manual-review/tasks/{task_id}/approve": {
      "post": {
        "tags": [
          "tasks"
        ],
        "summary": "Approve manual review task",
        "description": "메뉴얼 검토 태스크 승인\n\nFR-7: 메뉴얼 검토 완료 및 승인\n\n**경로 파라미터:**\n- task_id: 태스크 ID (UUID)\n\n**요청:**\n```json\n{\n  \"reviewer_notes\": \"내용이 정확하고 구체적입니다. 승인합니다.\",\n  \"approved\": true\n}\n```\n\n**응답 (200 OK):**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"uuid-task-1\",\n    \"status\": \"DONE\",\n    \"reviewer_id\": \"reviewer-001\",\n    \"review_notes\": \"내용이 정확하고 구체적입니다. 승인합니다.\",\n    \"comparison_type\": \"supplement\",\n    \"new_entry_id\": \"uuid-manual-draft\",\n    \"old_entry_id\": \"uuid-manual-existing\",\n    ...\n  },\n  \"error\": null,\n  \"meta\": {...},\n  \"feedback\": []\n}\n```\n\n**동작:**\n1. 태스크 상태를 DONE으로 변경\n2. 신규 메뉴얼을 APPROVED로 변경\n3. 기존 메뉴얼(old_entry_id)이 있으면 DEPRECATED로 변경\n4. 새 버전 번호 생성 (v1.6 → v1.7)\n5. 벡터스토어 인덱스 업데이트\n\n**reviewer_notes:**\n- 검토자의 피드백 (선택사항)\n- 승인 사유 또는 주요 수정 내용 기입\n\n**에러 응답:**\n- 404 Not Found: 태스크를 찾을 수 없음\n- 400 Bad Request: 태스크가 검토 중(IN_PROGRESS) 상태가 아님\n- 409 Conflict: 재검토 필요 (비즈니스 로직 오류)",
        "operationId": "approve_review_task_api_v1_manual_review_tasks__task_id__approve_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Task Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ManualReviewApproval"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualReviewTaskResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "uuid-task-1",
                    "status": "DONE",
                    "review_notes": "내용이 정확합니다"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - 유효하지 않은 입력",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "ValidationError",
                    "message": "입력값이 유효하지 않습니다",
                    "details": {
                      "field": "error message"
                    },
                    "hint": "필드를 확인해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "404": {
            "description": "Not Found - 리소스를 찾을 수 없음",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "RecordNotFoundError",
                    "message": "요청한 리소스를 찾을 수 없습니다"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "409": {
            "description": "Conflict - 상태 충돌",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "NeedsReReviewError",
                    "message": "재검토가 필요합니다",
                    "hint": "다시 검토해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - 서버 오류",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "INTERNAL.UNEXPECTED",
                    "message": "예기치 않은 서버 오류가 발생했습니다",
                    "hint": "관리자에게 문의해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manual-review/tasks/{task_id}/reject": {
      "post": {
        "tags": [
          "tasks"
        ],
        "summary": "Reject manual review task",
        "description": "메뉴얼 검토 태스크 거절\n\nFR-7: 메뉴얼 검토 거절 및 재작성 요청\n\n**경로 파라미터:**\n- task_id: 태스크 ID (UUID)\n\n**요청:**\n```json\n{\n  \"reason\": \"배경 정보가 부족합니다. 더 자세한 설명을 추가해주세요.\",\n  \"rejected\": true\n}\n```\n\n**응답 (200 OK):**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"uuid-task-1\",\n    \"status\": \"REJECTED\",\n    \"reviewer_id\": \"reviewer-001\",\n    \"review_notes\": \"배경 정보가 부족합니다. 더 자세한 설명을 추가해주세요.\",\n    \"comparison_type\": \"supplement\",\n    \"new_entry_id\": \"uuid-manual-draft\",\n    ...\n  },\n  \"error\": null,\n  \"meta\": {...},\n  \"feedback\": []\n}\n```\n\n**동작:**\n1. 태스크 상태를 REJECTED로 변경\n2. 거절 사유 저장\n3. 신규 메뉴얼(초안)은 DRAFT 상태로 유지\n4. 검토자는 재작성 사유 확인 후 초안 수정 가능\n\n**reason:**\n- 거절 사유 (필수)\n- 재작성 필요한 부분 상세 설명\n- 예: \"배경 정보가 부족합니다\", \"조치사항이 명확하지 않습니다\"\n\n**재검토 흐름:**\n1. 작성자가 초안 수정 (PUT /manuals/{manual_id})\n2. 새로운 검토 태스크 생성 (POST /manuals/draft)\n3. 검토자가 재검토 (승인 또는 재거절)\n\n**에러 응답:**\n- 404 Not Found: 태스크를 찾을 수 없음\n- 400 Bad Request: 태스크가 검토 중(IN_PROGRESS) 상태가 아님",
        "operationId": "reject_review_task_api_v1_manual_review_tasks__task_id__reject_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Task Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ManualReviewRejection"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualReviewTaskResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "uuid-task-1",
                    "status": "REJECTED",
                    "review_notes": "배경 정보가 부족합니다"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - 유효하지 않은 입력",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "ValidationError",
                    "message": "입력값이 유효하지 않습니다",
                    "details": {
                      "field": "error message"
                    },
                    "hint": "필드를 확인해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "404": {
            "description": "Not Found - 리소스를 찾을 수 없음",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "RecordNotFoundError",
                    "message": "요청한 리소스를 찾을 수 없습니다"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - 서버 오류",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "INTERNAL.UNEXPECTED",
                    "message": "예기치 않은 서버 오류가 발생했습니다",
                    "hint": "관리자에게 문의해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manual-review/tasks/{task_id}": {
      "put": {
        "tags": [
          "tasks"
        ],
        "summary": "Start manual review task",
        "description": "메뉴얼 검토 태스크 시작\n\nFR-6: 검토 태스크 상태 변경 (TODO → IN_PROGRESS)\n\n**경로 파라미터:**\n- task_id: 태스크 ID (UUID)\n\n**요청:**\n```\nPUT /manual-review/tasks/{task_id}\n```\n\n**응답 (200 OK):**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"uuid-task-1\",\n    \"status\": \"IN_PROGRESS\",\n    \"reviewer_id\": \"reviewer-001\",\n    \"review_notes\": null,\n    \"comparison_type\": \"supplement\",\n    \"new_entry_id\": \"uuid-manual-draft\",\n    \"old_entry_id\": \"uuid-manual-existing\",\n    ...\n  },\n  \"error\": null,\n  \"meta\": {...},\n  \"feedback\": []\n}\n```\n\n**동작:**\n1. 태스크 상태를 TODO → IN_PROGRESS로 변경\n2. 검토자 ID 자동 할당 (현재 사용자)\n3. 초안 메뉴얼 상태를 DRAFT → IN_PROGRESS로 변경\n4. 다른 사용자가 같은 초안을 수정하지 못하도록 보호\n\n**용도:**\n- 검토자가 태스크 클릭 후 검토 시작할 때\n- 동시 검토 방지 (한 명만 IN_PROGRESS 가능)\n- 미완성 초안이 노출되지 않도록 보호\n\n**제약사항:**\n- TODO 상태인 태스크만 시작 가능\n- 이미 IN_PROGRESS/DONE/REJECTED인 경우 오류\n\n**에러 응답:**\n- 404 Not Found: 태스크를 찾을 수 없음\n- 400 Bad Request: 태스크가 TODO 상태가 아님",
        "operationId": "start_review_task_api_v1_manual_review_tasks__task_id__put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Task Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "성공",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualReviewTaskResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "uuid-task-1",
                    "status": "IN_PROGRESS",
                    "reviewer_id": "reviewer-001"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - 유효하지 않은 입력",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "ValidationError",
                    "message": "입력값이 유효하지 않습니다",
                    "details": {
                      "field": "error message"
                    },
                    "hint": "필드를 확인해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "404": {
            "description": "Not Found - 리소스를 찾을 수 없음",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "RecordNotFoundError",
                    "message": "요청한 리소스를 찾을 수 없습니다"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error - 서버 오류",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": {
                    "code": "INTERNAL.UNEXPECTED",
                    "message": "예기치 않은 서버 오류가 발생했습니다",
                    "hint": "관리자에게 문의해주세요"
                  },
                  "meta": {
                    "requestId": "req-uuid-xxx",
                    "timestamp": "2024-12-16T10:35:00Z"
                  },
                  "feedback": []
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/signup": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "사용자 회원가입",
        "description": "회원가입 엔드포인트.",
        "operationId": "signup_api_v1_auth_signup_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/login": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "사용자 로그인",
        "description": "로그인 후 액세스 토큰 발급.",
        "operationId": "login_api_v1_auth_login_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/me": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "현재 사용자 조회",
        "description": "토큰으로 인증된 현재 사용자 정보를 반환.",
        "operationId": "read_me_api_v1_auth_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/admin/common-codes/groups": {
      "post": {
        "tags": [
          "common-codes",
          "Admin - Common Code Groups"
        ],
        "summary": "공통코드 그룹 생성",
        "description": "새로운 공통코드 그룹 생성\n\n- **group_code**: 그룹 고유 코드 (예: BUSINESS_TYPE, ERROR_CODE)\n- **group_name**: 그룹 이름 (예: 업무 구분, 에러코드)\n- **description**: 그룹 설명 (선택사항)\n- **is_active**: 활성화 여부 (기본값: true)\n\n에러:\n- 400: group_code 중복\n- 422: 입력 데이터 검증 실패",
        "operationId": "create_group_api_v1_admin_common_codes_groups_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommonCodeGroupCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommonCodeGroupResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "common-codes",
          "Admin - Common Code Groups"
        ],
        "summary": "공통코드 그룹 목록 조회",
        "description": "공통코드 그룹 목록 조회 (페이징)",
        "operationId": "list_groups_api_v1_admin_common_codes_groups_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "페이지 번호",
              "default": 1,
              "title": "Page"
            },
            "description": "페이지 번호"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "페이지 크기",
              "default": 20,
              "title": "Page Size"
            },
            "description": "페이지 크기"
          },
          {
            "name": "is_active",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "활성화 필터",
              "title": "Is Active"
            },
            "description": "활성화 필터"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommonCodeGroupListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/common-codes/groups/search": {
      "get": {
        "tags": [
          "common-codes",
          "Admin - Common Code Groups"
        ],
        "summary": "공통코드 그룹 검색",
        "description": "그룹 코드 또는 그룹 이름으로 검색",
        "operationId": "search_groups_api_v1_admin_common_codes_groups_search_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "keyword",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "검색 키워드",
              "title": "Keyword"
            },
            "description": "검색 키워드"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "페이지 번호",
              "default": 1,
              "title": "Page"
            },
            "description": "페이지 번호"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "페이지 크기",
              "default": 20,
              "title": "Page Size"
            },
            "description": "페이지 크기"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommonCodeGroupListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/common-codes/groups/{group_id}": {
      "get": {
        "tags": [
          "common-codes",
          "Admin - Common Code Groups"
        ],
        "summary": "공통코드 그룹 조회 (항목 포함)",
        "description": "ID로 그룹과 하위 항목을 함께 조회",
        "operationId": "get_group_api_v1_admin_common_codes_groups__group_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "group_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "그룹 ID",
              "title": "Group Id"
            },
            "description": "그룹 ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommonCodeGroupDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "common-codes",
          "Admin - Common Code Groups"
        ],
        "summary": "공통코드 그룹 수정",
        "description": "공통코드 그룹 수정 (부분 업데이트 지원)",
        "operationId": "update_group_api_v1_admin_common_codes_groups__group_id__put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "group_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "그룹 ID",
              "title": "Group Id"
            },
            "description": "그룹 ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommonCodeGroupUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommonCodeGroupResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "common-codes",
          "Admin - Common Code Groups"
        ],
        "summary": "공통코드 그룹 삭제",
        "description": "공통코드 그룹 삭제 (하위 항목도 함께 삭제)",
        "operationId": "delete_group_api_v1_admin_common_codes_groups__group_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "group_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "그룹 ID",
              "title": "Group Id"
            },
            "description": "그룹 ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "204": {
            "description": "그룹 삭제 완료"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/common-codes/groups/{group_id}/items": {
      "post": {
        "tags": [
          "common-codes",
          "Admin - Common Code Items"
        ],
        "summary": "공통코드 항목 생성",
        "description": "공통코드 항목 생성",
        "operationId": "create_item_api_v1_admin_common_codes_groups__group_id__items_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "group_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "그룹 ID",
              "title": "Group Id"
            },
            "description": "그룹 ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommonCodeItemCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommonCodeItemResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "common-codes",
          "Admin - Common Code Items"
        ],
        "summary": "공통코드 항목 목록 조회",
        "description": "그룹의 공통코드 항목 목록 조회",
        "operationId": "list_items_api_v1_admin_common_codes_groups__group_id__items_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "group_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "그룹 ID",
              "title": "Group Id"
            },
            "description": "그룹 ID"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "페이지 번호",
              "default": 1,
              "title": "Page"
            },
            "description": "페이지 번호"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "페이지 크기",
              "default": 100,
              "title": "Page Size"
            },
            "description": "페이지 크기"
          },
          {
            "name": "is_active_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "활성 항목만 조회",
              "default": false,
              "title": "Is Active Only"
            },
            "description": "활성 항목만 조회"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommonCodeItemListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/common-codes/items/{item_id}": {
      "get": {
        "tags": [
          "common-codes",
          "Admin - Common Code Items"
        ],
        "summary": "공통코드 항목 조회",
        "description": "ID로 공통코드 항목 조회",
        "operationId": "get_item_api_v1_admin_common_codes_items__item_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "item_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "항목 ID",
              "title": "Item Id"
            },
            "description": "항목 ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommonCodeItemResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "common-codes",
          "Admin - Common Code Items"
        ],
        "summary": "공통코드 항목 수정",
        "description": "공통코드 항목 수정 (부분 업데이트 지원)",
        "operationId": "update_item_api_v1_admin_common_codes_items__item_id__put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "item_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "항목 ID",
              "title": "Item Id"
            },
            "description": "항목 ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommonCodeItemUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommonCodeItemResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "common-codes",
          "Admin - Common Code Items"
        ],
        "summary": "공통코드 항목 삭제",
        "description": "공통코드 항목 삭제",
        "operationId": "delete_item_api_v1_admin_common_codes_items__item_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "item_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "항목 ID",
              "title": "Item Id"
            },
            "description": "항목 ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "204": {
            "description": "항목 삭제 완료"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/common-codes/{group_code}": {
      "get": {
        "tags": [
          "common-codes",
          "Public - Common Codes"
        ],
        "summary": "공통코드 조회 (그룹 코드)",
        "description": "그룹 코드로 공통코드 항목 조회 (프론트엔드용)\n\n응답 예시:\n```json\n{\n  \"group_code\": \"BUSINESS_TYPE\",\n  \"items\": [\n    {\"code_key\": \"RETAIL\", \"code_value\": \"리테일\"},\n    {\"code_key\": \"LOAN\", \"code_value\": \"대출\"}\n  ]\n}\n```\n\n참고: 데이터가 없어도 200 OK와 빈 items 배열을 반환합니다.",
        "operationId": "get_codes_by_group_api_v1_common_codes__group_code__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "group_code",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "그룹 코드 (예: BUSINESS_TYPE)",
              "title": "Group Code"
            },
            "description": "그룹 코드 (예: BUSINESS_TYPE)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Codes By Group Api V1 Common Codes  Group Code  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/common-codes/bulk": {
      "post": {
        "tags": [
          "common-codes",
          "Public - Common Codes"
        ],
        "summary": "공통코드 일괄 조회",
        "description": "여러 그룹의 공통코드 일괄 조회 (프론트엔드용)\n\n요청 본문:\n```json\n[\"BUSINESS_TYPE\", \"ERROR_CODE\"]\n```\n\n응답 예시:\n```json\n{\n  \"data\": {\n    \"BUSINESS_TYPE\": {\n      \"group_code\": \"BUSINESS_TYPE\",\n      \"items\": [...]\n    },\n    \"ERROR_CODE\": {\n      \"group_code\": \"ERROR_CODE\",\n      \"items\": [...]\n    }\n  }\n}\n```",
        "operationId": "get_multiple_codes_api_v1_common_codes_bulk_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "title": "Group Codes"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Get Multiple Codes Api V1 Common Codes Bulk Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/admin/departments": {
      "get": {
        "tags": [
          "departments"
        ],
        "summary": "부서 목록 조회",
        "operationId": "list_departments_api_v1_admin_departments_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "is_active",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "활성화 여부 필터",
              "title": "Is Active"
            },
            "description": "활성화 여부 필터"
          },
          {
            "name": "department_code",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "부서 코드 검색",
              "title": "Department Code"
            },
            "description": "부서 코드 검색"
          },
          {
            "name": "department_name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "부서 이름 검색",
              "title": "Department Name"
            },
            "description": "부서 이름 검색"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DepartmentResponse"
                  },
                  "title": "Response List Departments Api V1 Admin Departments Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "departments"
        ],
        "summary": "부서 생성",
        "operationId": "create_department_api_v1_admin_departments_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DepartmentCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DepartmentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/users/{user_id}/departments": {
      "get": {
        "tags": [
          "departments"
        ],
        "summary": "사용자 부서 매핑 조회",
        "operationId": "get_user_departments_api_v1_admin_users__user_id__departments_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDepartmentListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "departments"
        ],
        "summary": "사용자 부서 매핑 갱신",
        "operationId": "update_user_departments_api_v1_admin_users__user_id__departments_put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserDepartmentAssignment"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDepartmentListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/departments/{department_id}": {
      "put": {
        "tags": [
          "departments"
        ],
        "summary": "부서 정보 수정",
        "operationId": "update_department_api_v1_admin_departments__department_id__put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "department_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Department Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DepartmentUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DepartmentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "departments"
        ],
        "summary": "부서 삭제",
        "operationId": "delete_department_api_v1_admin_departments__department_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "department_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Department Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "사용자 목록 조회",
        "operationId": "list_users_api_v1_users_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "employee_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Employee Id"
            }
          },
          {
            "name": "name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Name"
            }
          },
          {
            "name": "department_code",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Department Code"
            }
          },
          {
            "name": "role",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/UserRole"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Role"
            }
          },
          {
            "name": "is_active",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Is Active"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserResponse"
                  },
                  "title": "Response List Users Api V1 Users Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "users"
        ],
        "summary": "사용자 생성",
        "operationId": "create_user_api_v1_users_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserAdminCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}": {
      "put": {
        "tags": [
          "users"
        ],
        "summary": "사용자 정보 업데이트",
        "operationId": "update_user_api_v1_users__user_id__put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserAdminUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "users"
        ],
        "summary": "사용자 삭제",
        "operationId": "delete_user_api_v1_users__user_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/search": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "사용자 검색",
        "operationId": "search_users_api_v1_users_search_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Name"
            }
          },
          {
            "name": "employee_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Employee Id"
            }
          },
          {
            "name": "department_code",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Department Code"
            }
          },
          {
            "name": "is_active",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Is Active"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserResponse"
                  },
                  "title": "Response Search Users Api V1 Users Search Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Health Check",
        "description": "Health check endpoint\n\nReturns:\n    Status dict",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Health Check Health Get"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "CommonCodeGroupCreate": {
        "properties": {
          "group_code": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Group Code",
            "description": "그룹 고유 코드 (예: BUSINESS_TYPE, ERROR_CODE)"
          },
          "group_name": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Group Name",
            "description": "그룹 이름 (예: 업무 구분, 에러코드)"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "그룹 설명 (선택사항)"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "활성화 여부",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "group_code",
          "group_name"
        ],
        "title": "CommonCodeGroupCreate",
        "description": "공통코드 그룹 생성 요청"
      },
      "CommonCodeGroupDetailResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "group_code": {
            "type": "string",
            "title": "Group Code",
            "description": "그룹 고유 코드"
          },
          "group_name": {
            "type": "string",
            "title": "Group Name",
            "description": "그룹 이름"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "그룹 설명"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "활성화 여부"
          },
          "items": {
            "items": {
              "$ref": "#/components/schemas/CommonCodeItemResponse"
            },
            "type": "array",
            "title": "Items",
            "description": "하위 코드 항목 목록",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "group_code",
          "group_name",
          "description",
          "is_active"
        ],
        "title": "CommonCodeGroupDetailResponse",
        "description": "공통코드 그룹 상세 응답 (항목 포함)"
      },
      "CommonCodeGroupListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/CommonCodeGroupResponse"
            },
            "type": "array",
            "title": "Items",
            "description": "그룹 목록"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "총 개수"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "현재 페이지"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "description": "페이지 크기"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages",
            "description": "총 페이지 수"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "total_pages"
        ],
        "title": "CommonCodeGroupListResponse",
        "description": "공통코드 그룹 목록 응답"
      },
      "CommonCodeGroupResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "group_code": {
            "type": "string",
            "title": "Group Code",
            "description": "그룹 고유 코드"
          },
          "group_name": {
            "type": "string",
            "title": "Group Name",
            "description": "그룹 이름"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "그룹 설명"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "활성화 여부"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "group_code",
          "group_name",
          "description",
          "is_active"
        ],
        "title": "CommonCodeGroupResponse",
        "description": "공통코드 그룹 응답 (항목 미포함)"
      },
      "CommonCodeGroupUpdate": {
        "properties": {
          "group_code": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Group Code",
            "description": "그룹 고유 코드 (선택사항)"
          },
          "group_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Group Name",
            "description": "그룹 이름 (선택사항)"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "그룹 설명 (선택사항)"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active",
            "description": "활성화 여부 (선택사항)"
          }
        },
        "type": "object",
        "title": "CommonCodeGroupUpdate",
        "description": "공통코드 그룹 수정 요청"
      },
      "CommonCodeItemCreate": {
        "properties": {
          "code_key": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Code Key",
            "description": "코드 키 (예: RETAIL, LOAN)"
          },
          "code_value": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Code Value",
            "description": "코드 값/표시명 (예: 리테일, 대출)"
          },
          "sort_order": {
            "type": "integer",
            "minimum": 0,
            "title": "Sort Order",
            "description": "정렬 순서",
            "default": 0
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "활성화 여부",
            "default": true
          },
          "attributes": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Attributes",
            "description": "추가 속성/메타데이터 (선택사항)"
          }
        },
        "type": "object",
        "required": [
          "code_key",
          "code_value"
        ],
        "title": "CommonCodeItemCreate",
        "description": "공통코드 항목 생성 요청"
      },
      "CommonCodeItemListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/CommonCodeItemResponse"
            },
            "type": "array",
            "title": "Items",
            "description": "항목 목록"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "총 개수"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "현재 페이지"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "description": "페이지 크기"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages",
            "description": "총 페이지 수"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "total_pages"
        ],
        "title": "CommonCodeItemListResponse",
        "description": "공통코드 항목 목록 응답"
      },
      "CommonCodeItemResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "group_id": {
            "type": "string",
            "format": "uuid",
            "title": "Group Id",
            "description": "상위 그룹 ID"
          },
          "code_key": {
            "type": "string",
            "title": "Code Key",
            "description": "코드 키"
          },
          "code_value": {
            "type": "string",
            "title": "Code Value",
            "description": "코드 값/표시명"
          },
          "sort_order": {
            "type": "integer",
            "title": "Sort Order",
            "description": "정렬 순서"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "활성화 여부"
          },
          "attributes": {
            "additionalProperties": true,
            "type": "object",
            "title": "Attributes",
            "description": "추가 속성/메타데이터"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "group_id",
          "code_key",
          "code_value",
          "sort_order",
          "is_active",
          "attributes"
        ],
        "title": "CommonCodeItemResponse",
        "description": "공통코드 항목 응답"
      },
      "CommonCodeItemUpdate": {
        "properties": {
          "code_key": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Code Key",
            "description": "코드 키 (선택사항)"
          },
          "code_value": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Code Value",
            "description": "코드 값/표시명 (선택사항)"
          },
          "sort_order": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0
              },
              {
                "type": "null"
              }
            ],
            "title": "Sort Order",
            "description": "정렬 순서 (선택사항)"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active",
            "description": "활성화 여부 (선택사항)"
          },
          "attributes": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Attributes",
            "description": "추가 속성/메타데이터 (선택사항)"
          }
        },
        "type": "object",
        "title": "CommonCodeItemUpdate",
        "description": "공통코드 항목 수정 요청"
      },
      "ComparisonType": {
        "type": "string",
        "enum": [
          "similar",
          "supplement",
          "new"
        ],
        "title": "ComparisonType",
        "description": "비교 결과 타입 분류 (v2.1)\n\n신규 draft를 기존 메뉴얼과 비교한 결과에 따른 분류:\n- SIMILAR: 기존 메뉴얼과 매우 유사 (≥0.95 유사도)\n- SUPPLEMENT: 기존 메뉴얼 보충/개선 (0.7-0.95 유사도)\n- NEW: 신규 메뉴얼 (\u003C0.7 유사도)"
      },
      "ConsultationCreate": {
        "properties": {
          "summary": {
            "type": "string",
            "maxLength": 500,
            "minLength": 10,
            "title": "Summary"
          },
          "inquiry_text": {
            "type": "string",
            "minLength": 10,
            "title": "Inquiry Text"
          },
          "action_taken": {
            "type": "string",
            "minLength": 10,
            "title": "Action Taken"
          },
          "branch_code": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Branch Code"
          },
          "employee_id": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Employee Id"
          },
          "screen_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Screen Id"
          },
          "transaction_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Transaction Name"
          },
          "business_type": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Business Type"
          },
          "error_code": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Code"
          },
          "metadata_fields": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata Fields"
          }
        },
        "type": "object",
        "required": [
          "summary",
          "inquiry_text",
          "action_taken",
          "branch_code",
          "employee_id"
        ],
        "title": "ConsultationCreate",
        "description": "Schema for creating new consultation\n\nRFP Reference: POST /consultations"
      },
      "ConsultationResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "summary": {
            "type": "string",
            "maxLength": 500,
            "minLength": 10,
            "title": "Summary"
          },
          "inquiry_text": {
            "type": "string",
            "minLength": 10,
            "title": "Inquiry Text"
          },
          "action_taken": {
            "type": "string",
            "minLength": 10,
            "title": "Action Taken"
          },
          "branch_code": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Branch Code"
          },
          "employee_id": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Employee Id"
          },
          "screen_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Screen Id"
          },
          "transaction_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Transaction Name"
          },
          "business_type": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Business Type"
          },
          "error_code": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Code"
          },
          "metadata_fields": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata Fields"
          },
          "user_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Name"
          },
          "manual_entry_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Manual Entry Id"
          },
          "is_manual_generated": {
            "type": "boolean",
            "title": "Is Manual Generated",
            "default": false
          },
          "manual_generated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Manual Generated At"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "summary",
          "inquiry_text",
          "action_taken",
          "branch_code",
          "employee_id"
        ],
        "title": "ConsultationResponse",
        "description": "Schema for consultation response\n\nIncludes all base fields plus ID and timestamps"
      },
      "ConsultationSearchResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/ConsultationSearchResult"
            },
            "type": "array",
            "title": "Results"
          },
          "total_found": {
            "type": "integer",
            "title": "Total Found"
          },
          "query": {
            "type": "string",
            "title": "Query"
          }
        },
        "type": "object",
        "required": [
          "results",
          "total_found",
          "query"
        ],
        "title": "ConsultationSearchResponse",
        "description": "Search results response"
      },
      "ConsultationSearchResult": {
        "properties": {
          "consultation": {
            "$ref": "#/components/schemas/ConsultationResponse"
          },
          "score": {
            "type": "number",
            "maximum": 1,
            "minimum": 0,
            "title": "Score"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ConsultationSearchVectorMetadata"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "consultation",
          "score"
        ],
        "title": "ConsultationSearchResult",
        "description": "검색 결과 단위 (상담 + 점수 + 메타데이터)."
      },
      "ConsultationSearchVectorMetadata": {
        "properties": {
          "branch_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Branch Code"
          },
          "business_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Business Type"
          },
          "error_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Code"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          }
        },
        "type": "object",
        "title": "ConsultationSearchVectorMetadata",
        "description": "검색 결과에 포함될 Vector 메타데이터."
      },
      "DepartmentCreate": {
        "properties": {
          "department_code": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Department Code"
          },
          "department_name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Department Name"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "department_code",
          "department_name"
        ],
        "title": "DepartmentCreate"
      },
      "DepartmentResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "department_code": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Department Code"
          },
          "department_name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Department Name"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "department_code",
          "department_name"
        ],
        "title": "DepartmentResponse"
      },
      "DepartmentUpdate": {
        "properties": {
          "department_code": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Department Code"
          },
          "department_name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Department Name"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "department_code",
          "department_name"
        ],
        "title": "DepartmentUpdate"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "ManualApproveRequest": {
        "properties": {
          "approver_id": {
            "type": "string",
            "title": "Approver Id"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "승인 메모"
          }
        },
        "type": "object",
        "required": [
          "approver_id"
        ],
        "title": "ManualApproveRequest",
        "description": "FR-4: 메뉴얼 승인 요청."
      },
      "ManualDetailResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "업데이트 시간 (ISO 8601)"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "manual_id": {
            "type": "string",
            "format": "uuid",
            "title": "Manual Id",
            "description": "메뉴얼 ID"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "버전 번호"
          },
          "topic": {
            "type": "string",
            "title": "Topic",
            "description": "메뉴얼 주제"
          },
          "keywords": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Keywords",
            "description": "키워드 배열"
          },
          "background": {
            "type": "string",
            "title": "Background",
            "description": "배경 정보"
          },
          "guidelines": {
            "items": {
              "$ref": "#/components/schemas/ManualGuidelineItem"
            },
            "type": "array",
            "title": "Guidelines",
            "description": "조치사항/가이드라인 배열"
          },
          "status": {
            "$ref": "#/components/schemas/ManualStatus",
            "description": "메뉴얼 상태 (APPROVED, DEPRECATED)"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "manual_id",
          "version",
          "topic",
          "keywords",
          "background",
          "guidelines",
          "status"
        ],
        "title": "ManualDetailResponse",
        "description": "Manual detail response for specific version\n\nRFP Reference: GET /api/v1/manuals/{manual_id}/versions/{version}"
      },
      "ManualDiffEntrySnapshot": {
        "properties": {
          "logical_key": {
            "type": "string",
            "title": "Logical Key"
          },
          "keywords": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Keywords"
          },
          "topic": {
            "type": "string",
            "title": "Topic"
          },
          "background": {
            "type": "string",
            "title": "Background"
          },
          "guideline": {
            "type": "string",
            "title": "Guideline"
          },
          "business_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Business Type"
          },
          "error_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Code"
          }
        },
        "type": "object",
        "required": [
          "logical_key",
          "keywords",
          "topic",
          "background",
          "guideline"
        ],
        "title": "ManualDiffEntrySnapshot",
        "description": "메뉴얼 항목 스냅샷 (Diff용)."
      },
      "ManualDraftCreateFromConsultationRequest": {
        "properties": {
          "consultation_id": {
            "type": "string",
            "format": "uuid",
            "title": "Consultation Id"
          },
          "enforce_hallucination_check": {
            "type": "boolean",
            "title": "Enforce Hallucination Check",
            "description": "환각 검증 실패 시 리뷰 태스크 생성 여부",
            "default": true
          },
          "compare_with_manual_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Compare With Manual Id",
            "description": "(선택) 특정 메뉴얼과 비교하고 싶을 경우 해당 ID 지정. None이면 최신 APPROVED 버전 비교"
          }
        },
        "type": "object",
        "required": [
          "consultation_id"
        ],
        "title": "ManualDraftCreateFromConsultationRequest",
        "description": "FR-2/FR-11(v2.1): 상담을 기반으로 메뉴얼 초안을 생성하기 위한 요청.\n\nv2.1: 사용자가 특정 버전과 비교할 수 있는 compare_with_manual_id 추가"
      },
      "ManualDraftCreateResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "comparison_type": {
            "$ref": "#/components/schemas/ComparisonType",
            "description": "비교 결과 타입: similar/supplement/new"
          },
          "draft_entry": {
            "$ref": "#/components/schemas/ManualEntryResponse",
            "description": "생성되거나 기존 메뉴얼 정보"
          },
          "existing_manual": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ManualEntryResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "SIMILAR 경로에서만 존재: 기존 메뉴얼 정보"
          },
          "review_task_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Review Task Id",
            "description": "SUPPLEMENT/NEW 경로에서만 존재: 생성된 리뷰 태스크 ID"
          },
          "similarity_score": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Similarity Score",
            "description": "SIMILAR/SUPPLEMENT에서 유사도 점수. NEW에서는 null"
          },
          "comparison_version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Comparison Version",
            "description": "초안 비교 로직 버전"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "사용자 친화적 메시지"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "comparison_type",
          "draft_entry",
          "message"
        ],
        "title": "ManualDraftCreateResponse",
        "description": "FR-2/FR-11(v2.1): 메뉴얼 초안 생성 응답 (개선된 버전)\n\n3가지 경로:\n1. SIMILAR: 기존 메뉴얼 반환, draft 미생성\n2. SUPPLEMENT: 초안 생성 + 자동 병합 + 리뷰 태스크 생성\n3. NEW: 초안 생성 + 리뷰 태스크 생성"
      },
      "ManualEntryResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "keywords": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 3,
            "minItems": 1,
            "title": "Keywords"
          },
          "topic": {
            "type": "string",
            "maxLength": 200,
            "minLength": 5,
            "title": "Topic"
          },
          "background": {
            "type": "string",
            "minLength": 10,
            "title": "Background"
          },
          "guideline": {
            "type": "string",
            "minLength": 10,
            "title": "Guideline"
          },
          "business_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Business Type"
          },
          "error_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Code"
          },
          "source_consultation_id": {
            "type": "string",
            "format": "uuid",
            "title": "Source Consultation Id"
          },
          "version_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Version Id"
          },
          "status": {
            "$ref": "#/components/schemas/ManualStatus"
          },
          "business_type_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Business Type Name",
            "description": "업무구분 이름 (공통코드값)"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "keywords",
          "topic",
          "background",
          "guideline",
          "source_consultation_id",
          "version_id",
          "status"
        ],
        "title": "ManualEntryResponse",
        "description": "Schema for manual entry response"
      },
      "ManualEntryUpdate": {
        "properties": {
          "keywords": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Keywords"
          },
          "topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic"
          },
          "background": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Background"
          },
          "guideline": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Guideline"
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ManualStatus"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "title": "ManualEntryUpdate",
        "description": "Schema for updating manual entry"
      },
      "ManualGuidelineItem": {
        "properties": {
          "title": {
            "type": "string",
            "title": "Title",
            "description": "조치사항 제목"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "조치사항 설명"
          }
        },
        "type": "object",
        "required": [
          "title",
          "description"
        ],
        "title": "ManualGuidelineItem",
        "description": "메뉴얼 가이드라인 항목."
      },
      "ManualModifiedEntry": {
        "properties": {
          "logical_key": {
            "type": "string",
            "title": "Logical Key"
          },
          "before": {
            "$ref": "#/components/schemas/ManualDiffEntrySnapshot"
          },
          "after": {
            "$ref": "#/components/schemas/ManualDiffEntrySnapshot"
          },
          "changed_fields": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Changed Fields"
          }
        },
        "type": "object",
        "required": [
          "logical_key",
          "before",
          "after",
          "changed_fields"
        ],
        "title": "ManualModifiedEntry",
        "description": "수정된 메뉴얼 항목 정보."
      },
      "ManualReviewApproval": {
        "properties": {
          "employee_id": {
            "type": "string",
            "title": "Employee Id"
          },
          "review_notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Review Notes"
          },
          "create_new_version": {
            "type": "boolean",
            "title": "Create New Version",
            "description": "Create new manual version",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "employee_id"
        ],
        "title": "ManualReviewApproval",
        "description": "Schema for approving manual review\n\nRFP Reference: POST /tasks/manual-review/{id}/approve"
      },
      "ManualReviewRejection": {
        "properties": {
          "review_notes": {
            "type": "string",
            "minLength": 10,
            "title": "Review Notes",
            "description": "Reason for rejection"
          }
        },
        "type": "object",
        "required": [
          "review_notes"
        ],
        "title": "ManualReviewRejection",
        "description": "Schema for rejecting manual review\n\nRFP Reference: POST /tasks/manual-review/{id}/reject"
      },
      "ManualReviewTaskResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "old_entry_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Old Entry Id"
          },
          "new_entry_id": {
            "type": "string",
            "format": "uuid",
            "title": "New Entry Id"
          },
          "similarity": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Similarity"
          },
          "status": {
            "$ref": "#/components/schemas/TaskStatus"
          },
          "reviewer_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reviewer Id"
          },
          "reviewer_department_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reviewer Department Id",
            "description": "검토 태스크 노출 대상 부서 ID"
          },
          "review_notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Review Notes"
          },
          "old_manual_summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Old Manual Summary",
            "description": "기존 메뉴얼 요약"
          },
          "new_manual_summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "New Manual Summary",
            "description": "신규 초안 요약"
          },
          "diff_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Diff Text",
            "description": "LLM 비교 결과 요약"
          },
          "diff_json": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Diff Json",
            "description": "LLM 비교 결과 JSON"
          },
          "business_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Business Type",
            "description": "신규 초안(new_entry)의 업무구분 코드"
          },
          "business_type_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Business Type Name",
            "description": "신규 초안(new_entry)의 업무구분 이름 (공통코드값)"
          },
          "new_error_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "New Error Code",
            "description": "신규 초안(new_entry)의 에러코드"
          },
          "new_manual_topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "New Manual Topic",
            "description": "신규 초안(new_entry)의 주제"
          },
          "new_manual_keywords": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "New Manual Keywords",
            "description": "신규 초안(new_entry)의 키워드"
          },
          "old_business_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Old Business Type",
            "description": "기존 메뉴얼(old_entry)의 업무구분 코드 - old_entry_id가 있을 때만 표시"
          },
          "old_business_type_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Old Business Type Name",
            "description": "기존 메뉴얼(old_entry)의 업무구분 이름 (공통코드값) - old_entry_id가 있을 때만 표시"
          },
          "old_error_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Old Error Code",
            "description": "기존 메뉴얼(old_entry)의 에러코드 - old_entry_id가 있을 때만 표시"
          },
          "old_manual_topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Old Manual Topic",
            "description": "기존 메뉴얼(old_entry)의 주제 - old_entry_id가 있을 때만 표시"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "old_entry_id",
          "new_entry_id",
          "similarity",
          "status",
          "reviewer_id",
          "review_notes"
        ],
        "title": "ManualReviewTaskResponse",
        "description": "Manual review task response\n\nRFP Reference: GET /tasks/manual-review"
      },
      "ManualSearchResult": {
        "properties": {
          "manual": {
            "$ref": "#/components/schemas/ManualEntryResponse"
          },
          "similarity_score": {
            "type": "number",
            "maximum": 1,
            "minimum": 0,
            "title": "Similarity Score",
            "description": "유사도 점수 (0~1)"
          }
        },
        "type": "object",
        "required": [
          "manual",
          "similarity_score"
        ],
        "title": "ManualSearchResult",
        "description": "Single manual search result"
      },
      "ManualStatus": {
        "type": "string",
        "enum": [
          "DRAFT",
          "APPROVED",
          "DEPRECATED",
          "ARCHIVED"
        ],
        "title": "ManualStatus",
        "description": "메뉴얼 상태 Enum (FR-4 승인/반려 흐름 반영)"
      },
      "ManualVersionDiffResponse": {
        "properties": {
          "base_version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Base Version"
          },
          "compare_version": {
            "type": "string",
            "title": "Compare Version"
          },
          "added_entries": {
            "items": {
              "$ref": "#/components/schemas/ManualDiffEntrySnapshot"
            },
            "type": "array",
            "title": "Added Entries"
          },
          "removed_entries": {
            "items": {
              "$ref": "#/components/schemas/ManualDiffEntrySnapshot"
            },
            "type": "array",
            "title": "Removed Entries"
          },
          "modified_entries": {
            "items": {
              "$ref": "#/components/schemas/ManualModifiedEntry"
            },
            "type": "array",
            "title": "Modified Entries"
          },
          "llm_summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Llm Summary"
          }
        },
        "type": "object",
        "required": [
          "base_version",
          "compare_version",
          "added_entries",
          "removed_entries",
          "modified_entries"
        ],
        "title": "ManualVersionDiffResponse",
        "description": "버전 간 메뉴얼 Diff 결과."
      },
      "ManualVersionInfo": {
        "properties": {
          "version": {
            "type": "string",
            "title": "Version"
          },
          "approved_at": {
            "type": "string",
            "format": "date-time",
            "title": "Approved At"
          }
        },
        "type": "object",
        "required": [
          "version",
          "approved_at"
        ],
        "title": "ManualVersionInfo",
        "description": "FR-5: 전체 문서 세트 버전 정보."
      },
      "ManualVersionResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "버전 번호 (예: v1.6)"
          },
          "label": {
            "type": "string",
            "title": "Label",
            "description": "사용자 표시용 레이블 (버전 + 상태)"
          },
          "date": {
            "type": "string",
            "title": "Date",
            "description": "버전 생성/승인 날짜 (YYYY-MM-DD 형식)"
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ManualStatus"
              },
              {
                "type": "null"
              }
            ],
            "description": "버전 상태 (APPROVED, DEPRECATED) - v2.1에서 추가"
          },
          "manual_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Manual Id",
            "description": "이 버전의 메뉴얼 ID (비교 시 사용) - v2.1에서 추가"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "version",
          "label",
          "date"
        ],
        "title": "ManualVersionResponse",
        "description": "Manual version response for version list (v2.1 개선)\n\n기존 /{manual_id}/versions와 새로운 /versions 쿼리 엔드포인트에서\n모두 사용 가능하도록 구조화\n\nRFP Reference: GET /api/v1/manuals/{manual_id}/versions, GET /api/v1/manuals/versions"
      },
      "ResponseEnvelope_list_ManualSearchResult__": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "data": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ManualSearchResult"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Data"
          },
          "error": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ResponseError"
              },
              {
                "type": "null"
              }
            ]
          },
          "meta": {
            "$ref": "#/components/schemas/ResponseMeta"
          },
          "feedback": {
            "items": {
              "$ref": "#/components/schemas/ResponseFeedback"
            },
            "type": "array",
            "title": "Feedback"
          }
        },
        "type": "object",
        "required": [
          "success",
          "meta"
        ],
        "title": "ResponseEnvelope[list[ManualSearchResult]]"
      },
      "ResponseError": {
        "properties": {
          "code": {
            "type": "string",
            "title": "Code"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details"
          },
          "hint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hint"
          }
        },
        "type": "object",
        "required": [
          "code",
          "message"
        ],
        "title": "ResponseError"
      },
      "ResponseFeedback": {
        "properties": {
          "code": {
            "type": "string",
            "title": "Code"
          },
          "level": {
            "type": "string",
            "title": "Level"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "code",
          "level",
          "message"
        ],
        "title": "ResponseFeedback"
      },
      "ResponseMeta": {
        "properties": {
          "requestId": {
            "type": "string",
            "title": "Requestid"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "requestId",
          "timestamp"
        ],
        "title": "ResponseMeta"
      },
      "TaskStatus": {
        "type": "string",
        "enum": [
          "TODO",
          "IN_PROGRESS",
          "DONE",
          "REJECTED"
        ],
        "title": "TaskStatus",
        "description": "검토 태스크 상태 Enum (FR-5/FR-6 워크플로우)"
      },
      "TokenResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "default": "bearer"
          }
        },
        "type": "object",
        "required": [
          "access_token"
        ],
        "title": "TokenResponse"
      },
      "UserAdminCreate": {
        "properties": {
          "employee_id": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Employee Id"
          },
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          },
          "role": {
            "$ref": "#/components/schemas/UserRole",
            "default": "CONSULTANT"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 12,
            "title": "Password"
          },
          "department_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "minItems": 1,
            "title": "Department Ids",
            "description": "부서 ID 목록 (최소 1개)"
          },
          "primary_department_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Primary Department Id",
            "description": "기본 부서 (생략하면 department_ids[0])"
          }
        },
        "type": "object",
        "required": [
          "employee_id",
          "name",
          "password",
          "department_ids"
        ],
        "title": "UserAdminCreate"
      },
      "UserAdminUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "role": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UserRole"
              },
              {
                "type": "null"
              }
            ]
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          },
          "password": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 128,
                "minLength": 12
              },
              {
                "type": "null"
              }
            ],
            "title": "Password"
          },
          "department_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "format": "uuid"
                },
                "type": "array",
                "minItems": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Department Ids",
            "description": "새로 연결할 부서 ID 목록"
          },
          "primary_department_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Primary Department Id",
            "description": "기본 부서 (department_ids 포함되어야 함)"
          }
        },
        "type": "object",
        "title": "UserAdminUpdate"
      },
      "UserCreate": {
        "properties": {
          "employee_id": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Employee Id"
          },
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          },
          "role": {
            "$ref": "#/components/schemas/UserRole",
            "default": "CONSULTANT"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 8,
            "title": "Password"
          },
          "department_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "minItems": 1,
            "title": "Department Ids",
            "description": "사용자가 속할 부서 ID 목록 (최소 1개)"
          },
          "primary_department_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Primary Department Id",
            "description": "기본 부서로 사용할 ID (생략 시 첫번째 부서)"
          }
        },
        "type": "object",
        "required": [
          "employee_id",
          "name",
          "password",
          "department_ids"
        ],
        "title": "UserCreate"
      },
      "UserDepartmentAssignment": {
        "properties": {
          "department_ids": {
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "type": "array",
            "minItems": 1,
            "title": "Department Ids"
          },
          "primary_department_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Primary Department Id"
          }
        },
        "type": "object",
        "required": [
          "department_ids"
        ],
        "title": "UserDepartmentAssignment"
      },
      "UserDepartmentListResponse": {
        "properties": {
          "user_id": {
            "type": "integer",
            "title": "User Id"
          },
          "departments": {
            "items": {
              "$ref": "#/components/schemas/DepartmentResponse"
            },
            "type": "array",
            "title": "Departments"
          },
          "primary_department_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Primary Department Id"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "departments",
          "primary_department_id"
        ],
        "title": "UserDepartmentListResponse"
      },
      "UserResponse": {
        "properties": {
          "employee_id": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Employee Id"
          },
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          },
          "role": {
            "$ref": "#/components/schemas/UserRole",
            "default": "CONSULTANT"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "departments": {
            "items": {
              "$ref": "#/components/schemas/DepartmentResponse"
            },
            "type": "array",
            "title": "Departments"
          }
        },
        "type": "object",
        "required": [
          "employee_id",
          "name",
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "UserResponse"
      },
      "UserRole": {
        "type": "string",
        "enum": [
          "CONSULTANT",
          "REVIEWER",
          "ADMIN"
        ],
        "title": "UserRole",
        "description": "시스템 사용자 역할"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    },
    "securitySchemes": {
      "OAuth2PasswordBearer": {
        "type": "oauth2",
        "flows": {
          "password": {
            "scopes": {

            },
            "tokenUrl": "/api/v1/auth/login"
          }
        }
      }
    }
  }
}