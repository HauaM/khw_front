{
  "openapi": "3.1.0",
  "info": {
    "title": "KHW",
    "description": "Customer Support Knowledge Management System",
    "version": "0.1.0"
  },
  "paths": {
    "/api/v1/consultations": {
      "post": {
        "tags": [
          "consultations"
        ],
        "summary": "Create new consultation",
        "description": "Create new consultation record\n\nRFP Reference: POST /consultations\n- Saves to RDB\n- Indexes in VectorStore\n- Returns created consultation\n\nFR-1: 상담 등록 (RDB 저장 + VectorStore 인덱싱/재시도 큐 연동)\nTODO: current_user = Depends(get_current_user) 추가 후 created_by_user_id 매핑",
        "operationId": "create_consultation_api_v1_consultations_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConsultationCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsultationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/consultations/search": {
      "get": {
        "tags": [
          "consultations"
        ],
        "summary": "Search similar consultations",
        "description": "Search for similar consultations using vector similarity\n\nRFP Reference: GET /consultations/search\n- Vector-based semantic search\n- Metadata filtering (branch, business_type, error_code)\n- Threshold-based result filtering",
        "operationId": "search_consultations_api_v1_consultations_search_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "title": "Query"
            }
          },
          {
            "name": "branch_code",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Branch Code"
            }
          },
          {
            "name": "business_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Business Type"
            }
          },
          {
            "name": "error_code",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Error Code"
            }
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Start Date"
            }
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "End Date"
            }
          },
          {
            "name": "top_k",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "default": 10,
              "title": "Top K"
            }
          },
          {
            "name": "similarity_threshold",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "maximum": 1,
              "minimum": 0,
              "default": 0.7,
              "title": "Similarity Threshold"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsultationSearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "consultations"
        ],
        "summary": "Search consultations (vector)",
        "description": "FR-3/FR-8: 벡터 기반 상담 검색 (POST).",
        "operationId": "search_consultations_post_api_v1_consultations_search_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConsultationSearchRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ConsultationSearchResult"
                  },
                  "title": "Response Search Consultations Post Api V1 Consultations Search Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/consultations/{consultation_id}": {
      "get": {
        "tags": [
          "consultations"
        ],
        "summary": "Get consultation details",
        "description": "Get detailed consultation information by ID\n\nRFP Reference: GET /consultations/{id}\n- Returns full consultation details including summary, inquiry, action\n- Returns user information (employee name)",
        "operationId": "get_consultation_api_v1_consultations__consultation_id__get",
        "parameters": [
          {
            "name": "consultation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Consultation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsultationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/consultations/{consultation_id}/manual-draft": {
      "post": {
        "tags": [
          "consultations"
        ],
        "summary": "Generate manual draft from consultation",
        "description": "Generate manual draft from consultation using LLM\n\nRFP Reference: POST /consultations/{id}/manual-draft\n- LLM extracts keywords\n- LLM generates manual structure\n- Returns draft for user review\n\nTODO: Implement actual logic",
        "operationId": "generate_manual_draft_api_v1_consultations__consultation_id__manual_draft_post",
        "parameters": [
          {
            "name": "consultation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Consultation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Generate Manual Draft Api V1 Consultations  Consultation Id  Manual Draft Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals/draft": {
      "post": {
        "tags": [
          "manuals"
        ],
        "summary": "Create manual draft from consultation (v2.1 with comparison)",
        "description": "FR-2/FR-9/FR-11(v2.1): 상담 기반 메뉴얼 초안 생성 + 비교 + 리뷰 태스크\n\n**Request:**\n```json\n{\n  \"consultation_id\": \"uuid-xxx\",\n  \"enforce_hallucination_check\": true,\n  \"compare_with_manual_id\": \"uuid-yyy\"  // Optional: 특정 버전과 비교\n}\n```\n\n**Response (3 가지 경로):**\n\n1. SIMILAR (기존 메뉴얼과 유사):\n```json\n{\n  \"comparison_type\": \"similar\",\n  \"draft_entry\": {...},\n  \"existing_manual\": {...},\n  \"similarity_score\": 0.97,\n  \"message\": \"기존 메뉴얼과 매우 유사합니다...\"\n}\n```\n\n2. SUPPLEMENT (기존 메뉴얼 보충):\n```json\n{\n  \"comparison_type\": \"supplement\",\n  \"draft_entry\": {...},\n  \"existing_manual\": {...},\n  \"review_task_id\": \"uuid-task\",\n  \"similarity_score\": 0.82,\n  \"message\": \"기존 메뉴얼의 내용을 보충했습니다...\"\n}\n```\n\n3. NEW (신규 메뉴얼):\n```json\n{\n  \"comparison_type\": \"new\",\n  \"draft_entry\": {...},\n  \"existing_manual\": null,\n  \"review_task_id\": \"uuid-task\",\n  \"similarity_score\": null,\n  \"message\": \"신규 메뉴얼 초안으로 생성되었습니다.\"\n}\n```",
        "operationId": "create_manual_draft_api_v1_manuals_draft_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ManualDraftCreateFromConsultationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualDraftCreateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals/draft/{manual_id}/conflict-check": {
      "post": {
        "tags": [
          "manuals"
        ],
        "summary": "Check conflict and create review task",
        "description": "FR-6: 신규 초안과 기존 메뉴얼 자동 비교.",
        "operationId": "check_conflict_api_v1_manuals_draft__manual_id__conflict_check_post",
        "parameters": [
          {
            "name": "manual_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Manual Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/ManualReviewTaskResponse"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "title": "Response Check Conflict Api V1 Manuals Draft  Manual Id  Conflict Check Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals/approve/{manual_id}": {
      "post": {
        "tags": [
          "manuals"
        ],
        "summary": "Approve manual and bump version set",
        "description": "FR-4/FR-5: 메뉴얼 승인 및 전체 버전 세트 관리.",
        "operationId": "approve_manual_api_v1_manuals_approve__manual_id__post",
        "parameters": [
          {
            "name": "manual_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Manual Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ManualApproveRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualVersionInfo"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals/versions": {
      "get": {
        "tags": [
          "manuals"
        ],
        "summary": "Get manual versions by business type and error code",
        "description": "FR-11(v2.1): business_type + error_code로 메뉴얼 그룹의 버전 목록 조회\n\n**용도:**\n- 초안 작성 전: UI에서 과거 버전 목록 표시\n- 사용자가 특정 버전과 비교하고 싶을 때 선택\n\n**Query Parameters:**\n- business_type: 업무 구분 (필수)\n- error_code: 에러 코드 (필수)\n- include_deprecated: DEPRECATED 버전도 반환할지 여부 (optional)\n\n**Returns:**\n```json\n[\n  {\n    \"value\": \"v1.5\",\n    \"label\": \"v1.5 (DEPRECATED)\",\n    \"date\": \"2024-12-01\",\n    \"status\": \"DEPRECATED\",\n    \"manual_id\": \"uuid-xxx\"\n  },\n  {\n    \"value\": \"v1.6\",\n    \"label\": \"v1.6 (현재 버전)\",\n    \"date\": \"2024-12-05\",\n    \"status\": \"APPROVED\",\n    \"manual_id\": \"uuid-yyy\"\n  }\n]\n```",
        "operationId": "get_versions_by_group_api_v1_manuals_versions_get",
        "parameters": [
          {
            "name": "business_type",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "업무 구분 (예: 인터넷뱅킹)",
              "title": "Business Type"
            },
            "description": "업무 구분 (예: 인터넷뱅킹)"
          },
          {
            "name": "error_code",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "에러 코드 (예: E001)",
              "title": "Error Code"
            },
            "description": "에러 코드 (예: E001)"
          },
          {
            "name": "include_deprecated",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "DEPRECATED 버전 포함 여부",
              "default": false,
              "title": "Include Deprecated"
            },
            "description": "DEPRECATED 버전 포함 여부"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ManualVersionResponse"
                  },
                  "title": "Response Get Versions By Group Api V1 Manuals Versions Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals/{manual_id}/versions": {
      "get": {
        "tags": [
          "manuals"
        ],
        "summary": "List manual versions",
        "description": "FR-14: 메뉴얼 그룹의 버전 목록 조회.\n\n특정 메뉴얼(manual_id)과 같은 business_type/error_code를 가진 메뉴얼 그룹의\n모든 버전을 최신순으로 반환합니다.",
        "operationId": "list_versions_api_v1_manuals__manual_id__versions_get",
        "parameters": [
          {
            "name": "manual_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Manual Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ManualVersionResponse"
                  },
                  "title": "Response List Versions Api V1 Manuals  Manual Id  Versions Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals/{manual_id}/versions/{version}": {
      "get": {
        "tags": [
          "manuals"
        ],
        "summary": "Get manual detail by version",
        "description": "FR-14: 특정 버전의 메뉴얼 상세 조회.\n\n특정 버전의 메뉴얼 상세 정보를 반환합니다.\nguideline 필드는 문자열에서 배열로 변환되어 반환됩니다.\n\n응답 필드:\n- manual_id: 메뉴얼 ID\n- version: 버전 번호\n- topic: 메뉴얼 주제\n- keywords: 키워드 배열\n- background: 배경 정보\n- guidelines: 조치사항/가이드라인 배열 (title + description)\n- status: 메뉴얼 상태 (APPROVED, DEPRECATED)\n- updated_at: 업데이트 시간 (ISO 8601)",
        "operationId": "get_manual_by_version_api_v1_manuals__manual_id__versions__version__get",
        "parameters": [
          {
            "name": "manual_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Manual Id"
            }
          },
          {
            "name": "version",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Version"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals/{manual_id}/diff": {
      "get": {
        "tags": [
          "manuals"
        ],
        "summary": "Diff manual versions in the same group",
        "description": "FR-14: 같은 그룹의 메뉴얼 버전 간 Diff",
        "operationId": "diff_manual_versions_api_v1_manuals__manual_id__diff_get",
        "parameters": [
          {
            "name": "manual_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Manual Id"
            }
          },
          {
            "name": "base_version",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Base Version"
            }
          },
          {
            "name": "compare_version",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Compare Version"
            }
          },
          {
            "name": "summarize",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Summarize"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualVersionDiffResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals/drafts/{draft_id}/diff-with-active": {
      "get": {
        "tags": [
          "manuals"
        ],
        "summary": "Diff draft set with active version",
        "description": "FR-14: 운영 버전 vs 특정 DRAFT 세트 Diff.",
        "operationId": "diff_draft_with_active_api_v1_manuals_drafts__draft_id__diff_with_active_get",
        "parameters": [
          {
            "name": "draft_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Draft Id"
            }
          },
          {
            "name": "summarize",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Summarize"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualVersionDiffResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals": {
      "get": {
        "tags": [
          "manuals"
        ],
        "summary": "List manual entries",
        "description": "List manual entries with optional status filter\n\nRFP Reference: GET /manuals\nTODO: Implement pagination and filtering",
        "operationId": "list_manuals_api_v1_manuals_get",
        "parameters": [
          {
            "name": "status_filter",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/ManualStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status Filter"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ManualEntryResponse"
                  },
                  "title": "Response List Manuals Api V1 Manuals Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals/search": {
      "get": {
        "tags": [
          "manuals"
        ],
        "summary": "Search manuals by similarity",
        "description": "Search manuals using vector similarity\n\nRFP Reference: GET /manuals/search\n- Vector-based semantic search\n- Filter by status, business_type, error_code",
        "operationId": "search_manuals_api_v1_manuals_search_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "title": "Query"
            }
          },
          {
            "name": "business_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Business Type"
            }
          },
          {
            "name": "error_code",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Error Code"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/ManualStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "name": "top_k",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "default": 10,
              "title": "Top K"
            }
          },
          {
            "name": "similarity_threshold",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "maximum": 1,
              "minimum": 0,
              "default": 0.7,
              "title": "Similarity Threshold"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ManualSearchResult"
                  },
                  "title": "Response Search Manuals Api V1 Manuals Search Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manuals/{manual_id}": {
      "put": {
        "tags": [
          "manuals"
        ],
        "summary": "Update manual entry",
        "description": "DRAFT 상태 메뉴얼 항목 업데이트.\n\n요청 필드:\n- topic: string (5-200자, 선택사항)\n- keywords: list[string] (1-3개, 선택사항)\n- background: string (최소 10자, 선택사항)\n- guideline: string (줄바꿈으로 구분, 선택사항)\n- status: DRAFT|APPROVED|DEPRECATED (선택사항, APPROVED는 /approve 사용)\n\n응답 (200 OK):\n메뉴얼 항목의 전체 정보\n\n제약사항:\n- DRAFT 상태인 메뉴얼만 수정 가능\n- APPROVED 상태로의 변경은 /approve 엔드포인트 사용 필수",
        "operationId": "update_manual_api_v1_manuals__manual_id__put",
        "parameters": [
          {
            "name": "manual_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Manual Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ManualEntryUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualEntryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "manuals"
        ],
        "summary": "Get manual detail",
        "description": "메뉴얼 단건 상세 조회.",
        "operationId": "get_manual_detail_api_v1_manuals__manual_id__get",
        "parameters": [
          {
            "name": "manual_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Manual Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualEntryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "manuals"
        ],
        "summary": "Delete manual draft",
        "description": "DRAFT 상태 메뉴얼 항목 삭제.\n\n**요청:**\n- DELETE /manuals/{manual_id}\n\n**응답:**\n- 204 No Content: 삭제 성공\n- 404 Not Found: 메뉴얼을 찾을 수 없음\n- 400 Bad Request: DRAFT 상태가 아님\n\n**제약사항:**\n- DRAFT 상태인 메뉴얼만 삭제 가능\n- 벡터스토어에서도 삭제됨\n- 관련 리뷰 태스크도 함께 삭제됨",
        "operationId": "delete_manual_api_v1_manuals__manual_id__delete",
        "parameters": [
          {
            "name": "manual_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Manual Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manual-review/tasks": {
      "get": {
        "tags": [
          "tasks"
        ],
        "summary": "List manual review tasks",
        "description": "List manual review tasks with optional status filter\n\nRFP Reference: GET /tasks/manual-review\n- Returns pending/in-progress/done/rejected tasks\n- For reviewers to see what needs attention\n\nTODO: Implement filtering and pagination",
        "operationId": "list_review_tasks_api_v1_manual_review_tasks_get",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ManualReviewTaskResponse"
                  },
                  "title": "Response List Review Tasks Api V1 Manual Review Tasks Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manual-review/tasks/{task_id}/approve": {
      "post": {
        "tags": [
          "tasks"
        ],
        "summary": "Approve manual review task",
        "description": "Approve manual review task\n\nRFP Reference: POST /tasks/manual-review/{id}/approve\n- Updates task status to DONE\n- Approves new manual entry\n- Deprecates old manual (if exists)\n- Creates new ManualVersion (if requested)\n\nTODO: Implement approval workflow",
        "operationId": "approve_review_task_api_v1_manual_review_tasks__task_id__approve_post",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Task Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ManualReviewApproval"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualReviewTaskResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manual-review/tasks/{task_id}/reject": {
      "post": {
        "tags": [
          "tasks"
        ],
        "summary": "Reject manual review task",
        "description": "Reject manual review task\n\nRFP Reference: POST /tasks/manual-review/{id}/reject\n- Updates task status to REJECTED\n- Saves rejection reason\n- Notifies submitter (optional)\n\nTODO: Implement rejection workflow",
        "operationId": "reject_review_task_api_v1_manual_review_tasks__task_id__reject_post",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Task Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ManualReviewRejection"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualReviewTaskResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/manual-review/tasks/{task_id}": {
      "put": {
        "tags": [
          "tasks"
        ],
        "summary": "Start manual review task",
        "description": "FR-6: 검토 태스크 시작 (TODO → IN_PROGRESS)\n\n검토자가 검토를 시작할 때 태스크 상태를 IN_PROGRESS로 변경합니다.\n이를 통해 미완성 초안이 노출되는 것을 방지합니다.\n\n요청:\n- PUT /api/v1/manual-review/tasks/{task_id}\n\n응답 (200 OK):\n- 업데이트된 ManualReviewTask (status=IN_PROGRESS)\n\n제약사항:\n- TODO 상태인 태스크만 IN_PROGRESS로 변경 가능",
        "operationId": "start_review_task_api_v1_manual_review_tasks__task_id__put",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Task Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualReviewTaskResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/signup": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "사용자 회원가입",
        "description": "회원가입 엔드포인트.",
        "operationId": "signup_api_v1_auth_signup_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/login": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "사용자 로그인",
        "description": "로그인 후 액세스 토큰 발급.",
        "operationId": "login_api_v1_auth_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserLogin"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/me": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "현재 사용자 조회",
        "description": "토큰으로 인증된 현재 사용자 정보를 반환.",
        "operationId": "read_me_api_v1_auth_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/admin/common-codes/groups": {
      "post": {
        "tags": [
          "common-codes",
          "Admin - Common Code Groups"
        ],
        "summary": "공통코드 그룹 생성",
        "description": "새로운 공통코드 그룹 생성\n\n- **group_code**: 그룹 고유 코드 (예: BUSINESS_TYPE, ERROR_CODE)\n- **group_name**: 그룹 이름 (예: 업무 구분, 에러코드)\n- **description**: 그룹 설명 (선택사항)\n- **is_active**: 활성화 여부 (기본값: true)\n\n에러:\n- 400: group_code 중복\n- 422: 입력 데이터 검증 실패",
        "operationId": "create_group_api_v1_admin_common_codes_groups_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommonCodeGroupCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommonCodeGroupResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "common-codes",
          "Admin - Common Code Groups"
        ],
        "summary": "공통코드 그룹 목록 조회",
        "description": "공통코드 그룹 목록 조회 (페이징)",
        "operationId": "list_groups_api_v1_admin_common_codes_groups_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "페이지 번호",
              "default": 1,
              "title": "Page"
            },
            "description": "페이지 번호"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "페이지 크기",
              "default": 20,
              "title": "Page Size"
            },
            "description": "페이지 크기"
          },
          {
            "name": "is_active",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "활성화 필터",
              "title": "Is Active"
            },
            "description": "활성화 필터"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommonCodeGroupListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/common-codes/groups/search": {
      "get": {
        "tags": [
          "common-codes",
          "Admin - Common Code Groups"
        ],
        "summary": "공통코드 그룹 검색",
        "description": "그룹 코드 또는 그룹 이름으로 검색",
        "operationId": "search_groups_api_v1_admin_common_codes_groups_search_get",
        "parameters": [
          {
            "name": "keyword",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "검색 키워드",
              "title": "Keyword"
            },
            "description": "검색 키워드"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "페이지 번호",
              "default": 1,
              "title": "Page"
            },
            "description": "페이지 번호"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "페이지 크기",
              "default": 20,
              "title": "Page Size"
            },
            "description": "페이지 크기"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommonCodeGroupListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/common-codes/groups/{group_id}": {
      "get": {
        "tags": [
          "common-codes",
          "Admin - Common Code Groups"
        ],
        "summary": "공통코드 그룹 조회 (항목 포함)",
        "description": "ID로 그룹과 하위 항목을 함께 조회",
        "operationId": "get_group_api_v1_admin_common_codes_groups__group_id__get",
        "parameters": [
          {
            "name": "group_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "그룹 ID",
              "title": "Group Id"
            },
            "description": "그룹 ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommonCodeGroupDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "common-codes",
          "Admin - Common Code Groups"
        ],
        "summary": "공통코드 그룹 수정",
        "description": "공통코드 그룹 수정 (부분 업데이트 지원)",
        "operationId": "update_group_api_v1_admin_common_codes_groups__group_id__put",
        "parameters": [
          {
            "name": "group_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "그룹 ID",
              "title": "Group Id"
            },
            "description": "그룹 ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommonCodeGroupUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommonCodeGroupResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "common-codes",
          "Admin - Common Code Groups"
        ],
        "summary": "공통코드 그룹 삭제",
        "description": "공통코드 그룹 삭제 (하위 항목도 함께 삭제)",
        "operationId": "delete_group_api_v1_admin_common_codes_groups__group_id__delete",
        "parameters": [
          {
            "name": "group_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "그룹 ID",
              "title": "Group Id"
            },
            "description": "그룹 ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "204": {
            "description": "그룹 삭제 완료"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/common-codes/groups/{group_id}/items": {
      "post": {
        "tags": [
          "common-codes",
          "Admin - Common Code Items"
        ],
        "summary": "공통코드 항목 생성",
        "description": "공통코드 항목 생성",
        "operationId": "create_item_api_v1_admin_common_codes_groups__group_id__items_post",
        "parameters": [
          {
            "name": "group_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "그룹 ID",
              "title": "Group Id"
            },
            "description": "그룹 ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommonCodeItemCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommonCodeItemResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "common-codes",
          "Admin - Common Code Items"
        ],
        "summary": "공통코드 항목 목록 조회",
        "description": "그룹의 공통코드 항목 목록 조회",
        "operationId": "list_items_api_v1_admin_common_codes_groups__group_id__items_get",
        "parameters": [
          {
            "name": "group_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "그룹 ID",
              "title": "Group Id"
            },
            "description": "그룹 ID"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "페이지 번호",
              "default": 1,
              "title": "Page"
            },
            "description": "페이지 번호"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "description": "페이지 크기",
              "default": 100,
              "title": "Page Size"
            },
            "description": "페이지 크기"
          },
          {
            "name": "is_active_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "활성 항목만 조회",
              "default": false,
              "title": "Is Active Only"
            },
            "description": "활성 항목만 조회"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommonCodeItemListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/common-codes/items/{item_id}": {
      "get": {
        "tags": [
          "common-codes",
          "Admin - Common Code Items"
        ],
        "summary": "공통코드 항목 조회",
        "description": "ID로 공통코드 항목 조회",
        "operationId": "get_item_api_v1_admin_common_codes_items__item_id__get",
        "parameters": [
          {
            "name": "item_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "항목 ID",
              "title": "Item Id"
            },
            "description": "항목 ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommonCodeItemResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "common-codes",
          "Admin - Common Code Items"
        ],
        "summary": "공통코드 항목 수정",
        "description": "공통코드 항목 수정 (부분 업데이트 지원)",
        "operationId": "update_item_api_v1_admin_common_codes_items__item_id__put",
        "parameters": [
          {
            "name": "item_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "항목 ID",
              "title": "Item Id"
            },
            "description": "항목 ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommonCodeItemUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommonCodeItemResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "common-codes",
          "Admin - Common Code Items"
        ],
        "summary": "공통코드 항목 삭제",
        "description": "공통코드 항목 삭제",
        "operationId": "delete_item_api_v1_admin_common_codes_items__item_id__delete",
        "parameters": [
          {
            "name": "item_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "항목 ID",
              "title": "Item Id"
            },
            "description": "항목 ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "204": {
            "description": "항목 삭제 완료"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/common-codes/{group_code}": {
      "get": {
        "tags": [
          "common-codes",
          "Public - Common Codes"
        ],
        "summary": "공통코드 조회 (그룹 코드)",
        "description": "그룹 코드로 공통코드 항목 조회 (프론트엔드용)\n\n응답 예시:\n```json\n{\n  \"group_code\": \"BUSINESS_TYPE\",\n  \"items\": [\n    {\"code_key\": \"RETAIL\", \"code_value\": \"리테일\"},\n    {\"code_key\": \"LOAN\", \"code_value\": \"대출\"}\n  ]\n}\n```\n\n참고: 데이터가 없어도 200 OK와 빈 items 배열을 반환합니다.",
        "operationId": "get_codes_by_group_api_v1_common_codes__group_code__get",
        "parameters": [
          {
            "name": "group_code",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "그룹 코드 (예: BUSINESS_TYPE)",
              "title": "Group Code"
            },
            "description": "그룹 코드 (예: BUSINESS_TYPE)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Codes By Group Api V1 Common Codes  Group Code  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/common-codes/bulk": {
      "post": {
        "tags": [
          "common-codes",
          "Public - Common Codes"
        ],
        "summary": "공통코드 일괄 조회",
        "description": "여러 그룹의 공통코드 일괄 조회 (프론트엔드용)\n\n요청 본문:\n```json\n[\"BUSINESS_TYPE\", \"ERROR_CODE\"]\n```\n\n응답 예시:\n```json\n{\n  \"data\": {\n    \"BUSINESS_TYPE\": {\n      \"group_code\": \"BUSINESS_TYPE\",\n      \"items\": [...]\n    },\n    \"ERROR_CODE\": {\n      \"group_code\": \"ERROR_CODE\",\n      \"items\": [...]\n    }\n  }\n}\n```",
        "operationId": "get_multiple_codes_api_v1_common_codes_bulk_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "title": "Group Codes"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Get Multiple Codes Api V1 Common Codes Bulk Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Health Check",
        "description": "Health check endpoint\n\nReturns:\n    Status dict",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Health Check Health Get"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "CommonCodeGroupCreate": {
        "properties": {
          "group_code": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Group Code",
            "description": "그룹 고유 코드 (예: BUSINESS_TYPE, ERROR_CODE)"
          },
          "group_name": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Group Name",
            "description": "그룹 이름 (예: 업무 구분, 에러코드)"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "그룹 설명 (선택사항)"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "활성화 여부",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "group_code",
          "group_name"
        ],
        "title": "CommonCodeGroupCreate",
        "description": "공통코드 그룹 생성 요청"
      },
      "CommonCodeGroupDetailResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "group_code": {
            "type": "string",
            "title": "Group Code",
            "description": "그룹 고유 코드"
          },
          "group_name": {
            "type": "string",
            "title": "Group Name",
            "description": "그룹 이름"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "그룹 설명"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "활성화 여부"
          },
          "items": {
            "items": {
              "$ref": "#/components/schemas/CommonCodeItemResponse"
            },
            "type": "array",
            "title": "Items",
            "description": "하위 코드 항목 목록",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "group_code",
          "group_name",
          "description",
          "is_active"
        ],
        "title": "CommonCodeGroupDetailResponse",
        "description": "공통코드 그룹 상세 응답 (항목 포함)"
      },
      "CommonCodeGroupListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/CommonCodeGroupResponse"
            },
            "type": "array",
            "title": "Items",
            "description": "그룹 목록"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "총 개수"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "현재 페이지"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "description": "페이지 크기"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages",
            "description": "총 페이지 수"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "total_pages"
        ],
        "title": "CommonCodeGroupListResponse",
        "description": "공통코드 그룹 목록 응답"
      },
      "CommonCodeGroupResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "group_code": {
            "type": "string",
            "title": "Group Code",
            "description": "그룹 고유 코드"
          },
          "group_name": {
            "type": "string",
            "title": "Group Name",
            "description": "그룹 이름"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "그룹 설명"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "활성화 여부"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "group_code",
          "group_name",
          "description",
          "is_active"
        ],
        "title": "CommonCodeGroupResponse",
        "description": "공통코드 그룹 응답 (항목 미포함)"
      },
      "CommonCodeGroupUpdate": {
        "properties": {
          "group_code": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Group Code",
            "description": "그룹 고유 코드 (선택사항)"
          },
          "group_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Group Name",
            "description": "그룹 이름 (선택사항)"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "그룹 설명 (선택사항)"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active",
            "description": "활성화 여부 (선택사항)"
          }
        },
        "type": "object",
        "title": "CommonCodeGroupUpdate",
        "description": "공통코드 그룹 수정 요청"
      },
      "CommonCodeItemCreate": {
        "properties": {
          "code_key": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Code Key",
            "description": "코드 키 (예: RETAIL, LOAN)"
          },
          "code_value": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Code Value",
            "description": "코드 값/표시명 (예: 리테일, 대출)"
          },
          "sort_order": {
            "type": "integer",
            "minimum": 0,
            "title": "Sort Order",
            "description": "정렬 순서",
            "default": 0
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "활성화 여부",
            "default": true
          },
          "attributes": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Attributes",
            "description": "추가 속성/메타데이터 (선택사항)"
          }
        },
        "type": "object",
        "required": [
          "code_key",
          "code_value"
        ],
        "title": "CommonCodeItemCreate",
        "description": "공통코드 항목 생성 요청"
      },
      "CommonCodeItemListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/CommonCodeItemResponse"
            },
            "type": "array",
            "title": "Items",
            "description": "항목 목록"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "총 개수"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "현재 페이지"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size",
            "description": "페이지 크기"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages",
            "description": "총 페이지 수"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "page",
          "page_size",
          "total_pages"
        ],
        "title": "CommonCodeItemListResponse",
        "description": "공통코드 항목 목록 응답"
      },
      "CommonCodeItemResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "group_id": {
            "type": "string",
            "format": "uuid",
            "title": "Group Id",
            "description": "상위 그룹 ID"
          },
          "code_key": {
            "type": "string",
            "title": "Code Key",
            "description": "코드 키"
          },
          "code_value": {
            "type": "string",
            "title": "Code Value",
            "description": "코드 값/표시명"
          },
          "sort_order": {
            "type": "integer",
            "title": "Sort Order",
            "description": "정렬 순서"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "활성화 여부"
          },
          "attributes": {
            "additionalProperties": true,
            "type": "object",
            "title": "Attributes",
            "description": "추가 속성/메타데이터"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "group_id",
          "code_key",
          "code_value",
          "sort_order",
          "is_active",
          "attributes"
        ],
        "title": "CommonCodeItemResponse",
        "description": "공통코드 항목 응답"
      },
      "CommonCodeItemUpdate": {
        "properties": {
          "code_key": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Code Key",
            "description": "코드 키 (선택사항)"
          },
          "code_value": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Code Value",
            "description": "코드 값/표시명 (선택사항)"
          },
          "sort_order": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0
              },
              {
                "type": "null"
              }
            ],
            "title": "Sort Order",
            "description": "정렬 순서 (선택사항)"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active",
            "description": "활성화 여부 (선택사항)"
          },
          "attributes": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Attributes",
            "description": "추가 속성/메타데이터 (선택사항)"
          }
        },
        "type": "object",
        "title": "CommonCodeItemUpdate",
        "description": "공통코드 항목 수정 요청"
      },
      "ComparisonType": {
        "type": "string",
        "enum": [
          "similar",
          "supplement",
          "new"
        ],
        "title": "ComparisonType",
        "description": "비교 결과 타입 분류 (v2.1)\n\n신규 draft를 기존 메뉴얼과 비교한 결과에 따른 분류:\n- SIMILAR: 기존 메뉴얼과 매우 유사 (≥0.95 유사도)\n- SUPPLEMENT: 기존 메뉴얼 보충/개선 (0.7-0.95 유사도)\n- NEW: 신규 메뉴얼 (\u003C0.7 유사도)"
      },
      "ConsultationCreate": {
        "properties": {
          "summary": {
            "type": "string",
            "maxLength": 500,
            "minLength": 10,
            "title": "Summary"
          },
          "inquiry_text": {
            "type": "string",
            "minLength": 10,
            "title": "Inquiry Text"
          },
          "action_taken": {
            "type": "string",
            "minLength": 10,
            "title": "Action Taken"
          },
          "branch_code": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Branch Code"
          },
          "employee_id": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Employee Id"
          },
          "screen_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Screen Id"
          },
          "transaction_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Transaction Name"
          },
          "business_type": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Business Type"
          },
          "error_code": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Code"
          },
          "metadata_fields": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata Fields"
          }
        },
        "type": "object",
        "required": [
          "summary",
          "inquiry_text",
          "action_taken",
          "branch_code",
          "employee_id"
        ],
        "title": "ConsultationCreate",
        "description": "Schema for creating new consultation\n\nRFP Reference: POST /consultations"
      },
      "ConsultationResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "summary": {
            "type": "string",
            "maxLength": 500,
            "minLength": 10,
            "title": "Summary"
          },
          "inquiry_text": {
            "type": "string",
            "minLength": 10,
            "title": "Inquiry Text"
          },
          "action_taken": {
            "type": "string",
            "minLength": 10,
            "title": "Action Taken"
          },
          "branch_code": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Branch Code"
          },
          "employee_id": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Employee Id"
          },
          "screen_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Screen Id"
          },
          "transaction_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Transaction Name"
          },
          "business_type": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Business Type"
          },
          "error_code": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Code"
          },
          "metadata_fields": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata Fields"
          },
          "user_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Name"
          },
          "manual_entry_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Manual Entry Id"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "summary",
          "inquiry_text",
          "action_taken",
          "branch_code",
          "employee_id"
        ],
        "title": "ConsultationResponse",
        "description": "Schema for consultation response\n\nIncludes all base fields plus ID and timestamps"
      },
      "ConsultationSearchFilters": {
        "properties": {
          "branch_code": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Branch Code"
          },
          "business_type": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Business Type"
          },
          "error_code": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Code"
          },
          "start_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Date",
            "description": "조회 시작 시각 (created_at 이상)"
          },
          "end_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Date",
            "description": "조회 종료 시각 (created_at 이하)"
          }
        },
        "type": "object",
        "title": "ConsultationSearchFilters",
        "description": "VectorStore 재조회 시 적용할 메타데이터 필터 (FR-3 대비 사전 정의).\n\n나중 Task에서 사용할 예정이지만, Repository와 Service 계약을 맞추기 위해\n기본 필드를 미리 선언한다."
      },
      "ConsultationSearchRequest": {
        "properties": {
          "query": {
            "type": "string",
            "minLength": 1,
            "title": "Query",
            "description": "검색 쿼리"
          },
          "top_k": {
            "type": "integer",
            "maximum": 50,
            "minimum": 1,
            "title": "Top K",
            "default": 10
          },
          "filters": {
            "$ref": "#/components/schemas/ConsultationSearchFilters",
            "description": "branch/business/error 등 메타 필터"
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "ConsultationSearchRequest",
        "description": "FR-3: 상담 검색 요청 스키마."
      },
      "ConsultationSearchResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/ConsultationSearchResult"
            },
            "type": "array",
            "title": "Results"
          },
          "total_found": {
            "type": "integer",
            "title": "Total Found"
          },
          "query": {
            "type": "string",
            "title": "Query"
          }
        },
        "type": "object",
        "required": [
          "results",
          "total_found",
          "query"
        ],
        "title": "ConsultationSearchResponse",
        "description": "Search results response"
      },
      "ConsultationSearchResult": {
        "properties": {
          "consultation": {
            "$ref": "#/components/schemas/ConsultationResponse"
          },
          "score": {
            "type": "number",
            "maximum": 1,
            "minimum": 0,
            "title": "Score"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ConsultationSearchVectorMetadata"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "consultation",
          "score"
        ],
        "title": "ConsultationSearchResult",
        "description": "검색 결과 단위 (상담 + 점수 + 메타데이터)."
      },
      "ConsultationSearchVectorMetadata": {
        "properties": {
          "branch_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Branch Code"
          },
          "business_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Business Type"
          },
          "error_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Code"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          }
        },
        "type": "object",
        "title": "ConsultationSearchVectorMetadata",
        "description": "검색 결과에 포함될 Vector 메타데이터."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "ManualApproveRequest": {
        "properties": {
          "approver_id": {
            "type": "string",
            "title": "Approver Id"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "승인 메모"
          }
        },
        "type": "object",
        "required": [
          "approver_id"
        ],
        "title": "ManualApproveRequest",
        "description": "FR-4: 메뉴얼 승인 요청."
      },
      "ManualDetailResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "업데이트 시간 (ISO 8601)"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "manual_id": {
            "type": "string",
            "format": "uuid",
            "title": "Manual Id",
            "description": "메뉴얼 ID"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "버전 번호"
          },
          "topic": {
            "type": "string",
            "title": "Topic",
            "description": "메뉴얼 주제"
          },
          "keywords": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Keywords",
            "description": "키워드 배열"
          },
          "background": {
            "type": "string",
            "title": "Background",
            "description": "배경 정보"
          },
          "guidelines": {
            "items": {
              "$ref": "#/components/schemas/ManualGuidelineItem"
            },
            "type": "array",
            "title": "Guidelines",
            "description": "조치사항/가이드라인 배열"
          },
          "status": {
            "$ref": "#/components/schemas/ManualStatus",
            "description": "메뉴얼 상태 (APPROVED, DEPRECATED)"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "manual_id",
          "version",
          "topic",
          "keywords",
          "background",
          "guidelines",
          "status"
        ],
        "title": "ManualDetailResponse",
        "description": "Manual detail response for specific version\n\nRFP Reference: GET /api/v1/manuals/{manual_id}/versions/{version}"
      },
      "ManualDiffEntrySnapshot": {
        "properties": {
          "logical_key": {
            "type": "string",
            "title": "Logical Key"
          },
          "keywords": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Keywords"
          },
          "topic": {
            "type": "string",
            "title": "Topic"
          },
          "background": {
            "type": "string",
            "title": "Background"
          },
          "guideline": {
            "type": "string",
            "title": "Guideline"
          },
          "business_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Business Type"
          },
          "error_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Code"
          }
        },
        "type": "object",
        "required": [
          "logical_key",
          "keywords",
          "topic",
          "background",
          "guideline"
        ],
        "title": "ManualDiffEntrySnapshot",
        "description": "메뉴얼 항목 스냅샷 (Diff용)."
      },
      "ManualDraftCreateFromConsultationRequest": {
        "properties": {
          "consultation_id": {
            "type": "string",
            "format": "uuid",
            "title": "Consultation Id"
          },
          "enforce_hallucination_check": {
            "type": "boolean",
            "title": "Enforce Hallucination Check",
            "description": "환각 검증 실패 시 리뷰 태스크 생성 여부",
            "default": true
          },
          "compare_with_manual_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Compare With Manual Id",
            "description": "(선택) 특정 메뉴얼과 비교하고 싶을 경우 해당 ID 지정. None이면 최신 APPROVED 버전과 비교."
          }
        },
        "type": "object",
        "required": [
          "consultation_id"
        ],
        "title": "ManualDraftCreateFromConsultationRequest",
        "description": "FR-2/FR-11(v2.1): 상담을 기반으로 메뉴얼 초안을 생성하기 위한 요청.\n\nv2.1: 사용자가 특정 버전과 비교할 수 있는 compare_with_manual_id 추가"
      },
      "ManualDraftCreateResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "comparison_type": {
            "$ref": "#/components/schemas/ComparisonType",
            "description": "비교 결과 타입: similar/supplement/new"
          },
          "draft_entry": {
            "$ref": "#/components/schemas/ManualEntryResponse",
            "description": "생성되거나 기존 메뉴얼 정보"
          },
          "existing_manual": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ManualEntryResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "SIMILAR 경로에서만 존재: 기존 메뉴얼 정보"
          },
          "review_task_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Review Task Id",
            "description": "SUPPLEMENT/NEW 경로에서만 존재: 생성된 리뷰 태스크 ID"
          },
          "similarity_score": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Similarity Score",
            "description": "SIMILAR/SUPPLEMENT에서 유사도 점수. NEW에서는 null"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "사용자 친화적 메시지"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "comparison_type",
          "draft_entry",
          "message"
        ],
        "title": "ManualDraftCreateResponse",
        "description": "FR-2/FR-11(v2.1): 메뉴얼 초안 생성 응답 (개선된 버전)\n\n3가지 경로:\n1. SIMILAR: 기존 메뉴얼 반환, draft 미생성\n2. SUPPLEMENT: 초안 생성 + 자동 병합 + 리뷰 태스크 생성\n3. NEW: 초안 생성 + 리뷰 태스크 생성"
      },
      "ManualEntryResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "keywords": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 3,
            "minItems": 1,
            "title": "Keywords"
          },
          "topic": {
            "type": "string",
            "maxLength": 200,
            "minLength": 5,
            "title": "Topic"
          },
          "background": {
            "type": "string",
            "minLength": 10,
            "title": "Background"
          },
          "guideline": {
            "type": "string",
            "minLength": 10,
            "title": "Guideline"
          },
          "business_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Business Type"
          },
          "error_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Code"
          },
          "source_consultation_id": {
            "type": "string",
            "format": "uuid",
            "title": "Source Consultation Id"
          },
          "version_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Version Id"
          },
          "status": {
            "$ref": "#/components/schemas/ManualStatus"
          },
          "business_type_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Business Type Name",
            "description": "업무구분 이름 (공통코드값)"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "keywords",
          "topic",
          "background",
          "guideline",
          "source_consultation_id",
          "version_id",
          "status"
        ],
        "title": "ManualEntryResponse",
        "description": "Schema for manual entry response"
      },
      "ManualEntryUpdate": {
        "properties": {
          "keywords": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Keywords"
          },
          "topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic"
          },
          "background": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Background"
          },
          "guideline": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Guideline"
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ManualStatus"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "title": "ManualEntryUpdate",
        "description": "Schema for updating manual entry"
      },
      "ManualGuidelineItem": {
        "properties": {
          "title": {
            "type": "string",
            "title": "Title",
            "description": "조치사항 제목"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "조치사항 설명"
          }
        },
        "type": "object",
        "required": [
          "title",
          "description"
        ],
        "title": "ManualGuidelineItem",
        "description": "메뉴얼 가이드라인 항목."
      },
      "ManualModifiedEntry": {
        "properties": {
          "logical_key": {
            "type": "string",
            "title": "Logical Key"
          },
          "before": {
            "$ref": "#/components/schemas/ManualDiffEntrySnapshot"
          },
          "after": {
            "$ref": "#/components/schemas/ManualDiffEntrySnapshot"
          },
          "changed_fields": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Changed Fields"
          }
        },
        "type": "object",
        "required": [
          "logical_key",
          "before",
          "after",
          "changed_fields"
        ],
        "title": "ManualModifiedEntry",
        "description": "수정된 메뉴얼 항목 정보."
      },
      "ManualReviewApproval": {
        "properties": {
          "employee_id": {
            "type": "string",
            "title": "Employee Id"
          },
          "review_notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Review Notes"
          },
          "create_new_version": {
            "type": "boolean",
            "title": "Create New Version",
            "description": "Create new manual version",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "employee_id"
        ],
        "title": "ManualReviewApproval",
        "description": "Schema for approving manual review\n\nRFP Reference: POST /tasks/manual-review/{id}/approve"
      },
      "ManualReviewRejection": {
        "properties": {
          "review_notes": {
            "type": "string",
            "minLength": 10,
            "title": "Review Notes",
            "description": "Reason for rejection"
          }
        },
        "type": "object",
        "required": [
          "review_notes"
        ],
        "title": "ManualReviewRejection",
        "description": "Schema for rejecting manual review\n\nRFP Reference: POST /tasks/manual-review/{id}/reject"
      },
      "ManualReviewTaskResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "old_entry_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Old Entry Id"
          },
          "new_entry_id": {
            "type": "string",
            "format": "uuid",
            "title": "New Entry Id"
          },
          "similarity": {
            "type": "number",
            "title": "Similarity"
          },
          "status": {
            "$ref": "#/components/schemas/TaskStatus"
          },
          "reviewer_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reviewer Id"
          },
          "review_notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Review Notes"
          },
          "old_manual_summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Old Manual Summary",
            "description": "기존 메뉴얼 요약"
          },
          "new_manual_summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "New Manual Summary",
            "description": "신규 초안 요약"
          },
          "diff_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Diff Text",
            "description": "LLM 비교 결과 요약"
          },
          "diff_json": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Diff Json",
            "description": "LLM 비교 결과 JSON"
          },
          "business_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Business Type",
            "description": "신규 초안(new_entry)의 업무구분 코드"
          },
          "business_type_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Business Type Name",
            "description": "신규 초안(new_entry)의 업무구분 이름 (공통코드값)"
          },
          "new_error_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "New Error Code",
            "description": "신규 초안(new_entry)의 에러코드"
          },
          "new_manual_topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "New Manual Topic",
            "description": "신규 초안(new_entry)의 주제"
          },
          "new_manual_keywords": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "New Manual Keywords",
            "description": "신규 초안(new_entry)의 키워드"
          },
          "old_business_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Old Business Type",
            "description": "기존 메뉴얼(old_entry)의 업무구분 코드 - old_entry_id가 있을 때만 표시"
          },
          "old_business_type_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Old Business Type Name",
            "description": "기존 메뉴얼(old_entry)의 업무구분 이름 (공통코드값) - old_entry_id가 있을 때만 표시"
          },
          "old_error_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Old Error Code",
            "description": "기존 메뉴얼(old_entry)의 에러코드 - old_entry_id가 있을 때만 표시"
          },
          "old_manual_topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Old Manual Topic",
            "description": "기존 메뉴얼(old_entry)의 주제 - old_entry_id가 있을 때만 표시"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "old_entry_id",
          "new_entry_id",
          "similarity",
          "status",
          "reviewer_id",
          "review_notes"
        ],
        "title": "ManualReviewTaskResponse",
        "description": "Manual review task response\n\nRFP Reference: GET /tasks/manual-review"
      },
      "ManualSearchResult": {
        "properties": {
          "manual": {
            "$ref": "#/components/schemas/ManualEntryResponse"
          },
          "similarity_score": {
            "type": "number",
            "title": "Similarity Score"
          }
        },
        "type": "object",
        "required": [
          "manual",
          "similarity_score"
        ],
        "title": "ManualSearchResult",
        "description": "Single manual search result"
      },
      "ManualStatus": {
        "type": "string",
        "enum": [
          "DRAFT",
          "APPROVED",
          "DEPRECATED",
          "ARCHIVED"
        ],
        "title": "ManualStatus",
        "description": "메뉴얼 상태 Enum (FR-4 승인/반려 흐름 반영)"
      },
      "ManualVersionDiffResponse": {
        "properties": {
          "base_version": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Base Version"
          },
          "compare_version": {
            "type": "string",
            "title": "Compare Version"
          },
          "added_entries": {
            "items": {
              "$ref": "#/components/schemas/ManualDiffEntrySnapshot"
            },
            "type": "array",
            "title": "Added Entries"
          },
          "removed_entries": {
            "items": {
              "$ref": "#/components/schemas/ManualDiffEntrySnapshot"
            },
            "type": "array",
            "title": "Removed Entries"
          },
          "modified_entries": {
            "items": {
              "$ref": "#/components/schemas/ManualModifiedEntry"
            },
            "type": "array",
            "title": "Modified Entries"
          },
          "llm_summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Llm Summary"
          }
        },
        "type": "object",
        "required": [
          "base_version",
          "compare_version",
          "added_entries",
          "removed_entries",
          "modified_entries"
        ],
        "title": "ManualVersionDiffResponse",
        "description": "버전 간 메뉴얼 Diff 결과."
      },
      "ManualVersionInfo": {
        "properties": {
          "version": {
            "type": "string",
            "title": "Version"
          },
          "approved_at": {
            "type": "string",
            "format": "date-time",
            "title": "Approved At"
          }
        },
        "type": "object",
        "required": [
          "version",
          "approved_at"
        ],
        "title": "ManualVersionInfo",
        "description": "FR-5: 전체 문서 세트 버전 정보."
      },
      "ManualVersionResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "버전 번호 (예: v1.6)"
          },
          "label": {
            "type": "string",
            "title": "Label",
            "description": "사용자 표시용 레이블 (버전 + 상태)"
          },
          "date": {
            "type": "string",
            "title": "Date",
            "description": "버전 생성/승인 날짜 (YYYY-MM-DD 형식)"
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ManualStatus"
              },
              {
                "type": "null"
              }
            ],
            "description": "버전 상태 (APPROVED, DEPRECATED) - v2.1에서 추가"
          },
          "manual_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Manual Id",
            "description": "이 버전의 메뉴얼 ID (비교 시 사용) - v2.1에서 추가"
          }
        },
        "type": "object",
        "required": [
          "created_at",
          "updated_at",
          "id",
          "version",
          "label",
          "date"
        ],
        "title": "ManualVersionResponse",
        "description": "Manual version response for version list (v2.1 개선)\n\n기존 /{manual_id}/versions와 새로운 /versions 쿼리 엔드포인트에서\n모두 사용 가능하도록 구조화\n\nRFP Reference: GET /api/v1/manuals/{manual_id}/versions, GET /api/v1/manuals/versions"
      },
      "TaskStatus": {
        "type": "string",
        "enum": [
          "TODO",
          "IN_PROGRESS",
          "DONE",
          "REJECTED"
        ],
        "title": "TaskStatus",
        "description": "검토 태스크 상태 Enum (FR-5/FR-6 워크플로우)"
      },
      "TokenResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "default": "bearer"
          }
        },
        "type": "object",
        "required": [
          "access_token"
        ],
        "title": "TokenResponse"
      },
      "UserCreate": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 50,
            "minLength": 3,
            "title": "Username"
          },
          "employee_id": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Employee Id"
          },
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          },
          "department": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Department"
          },
          "role": {
            "$ref": "#/components/schemas/UserRole",
            "default": "CONSULTANT"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 8,
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "username",
          "employee_id",
          "name",
          "department",
          "password"
        ],
        "title": "UserCreate"
      },
      "UserLogin": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Username"
          },
          "password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 1,
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "UserLogin"
      },
      "UserResponse": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 50,
            "minLength": 3,
            "title": "Username"
          },
          "employee_id": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Employee Id"
          },
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          },
          "department": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Department"
          },
          "role": {
            "$ref": "#/components/schemas/UserRole",
            "default": "CONSULTANT"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": true
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "username",
          "employee_id",
          "name",
          "department",
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "UserResponse"
      },
      "UserRole": {
        "type": "string",
        "enum": [
          "CONSULTANT",
          "REVIEWER",
          "ADMIN"
        ],
        "title": "UserRole",
        "description": "시스템 사용자 역할"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    },
    "securitySchemes": {
      "OAuth2PasswordBearer": {
        "type": "oauth2",
        "flows": {
          "password": {
            "scopes": {

            },
            "tokenUrl": "/auth/login"
          }
        }
      }
    }
  }
}
