# ë©”ë‰´ì–¼ ë²„ì „ ë¹„êµ ê¸°ëŠ¥ - ìµœì¢… ë°°í¬ ê°€ì´ë“œ

**ì‘ì„±ì¼**: 2025ë…„ 1ì›”
**ìƒíƒœ**: âœ… í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„ ì™„ë£Œ â†’ â³ ë°±ì—”ë“œ API ì—°ë™ í…ŒìŠ¤íŠ¸ ì¤‘
**ëŒ€ìƒ**: ê°œë°œíŒ€, ë°°í¬íŒ€, QAíŒ€

---

## ğŸ“Š í˜„ì¬ ìƒíƒœ

### ì™„ë£Œëœ í•­ëª© âœ…

**í”„ë¡ íŠ¸ì—”ë“œ**:
- [x] ëª¨ë“  ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
- [x] TypeScript íƒ€ì… ì •ì˜
- [x] API ë ˆì´ì–´ êµ¬í˜„
- [x] Mock ë°ì´í„° **ì™„ì „ ì œê±°**
- [x] ì‹¤ì œ ë°±ì—”ë“œ API í˜¸ì¶œë§Œ ì‚¬ìš©

**ë¬¸ì„œí™”**:
- [x] BACKEND_API_GUIDE.md (ë°±ì—”ë“œ ìŠ¤í™)
- [x] API_TYPE_MAPPING.md (íƒ€ì… ë³€í™˜)
- [x] INTEGRATION_TEST_CHECKLIST.md (í…ŒìŠ¤íŠ¸ ì ˆì°¨)
- [x] API_INTEGRATION_TEST.md (API í…ŒìŠ¤íŠ¸)

### í…ŒìŠ¤íŠ¸ í•„ìš” í•­ëª© â³

**ë°±ì—”ë“œ API**:
- [ ] GET /api/v1/manuals/{manual_id}/versions - í…ŒìŠ¤íŠ¸
- [ ] GET /api/v1/manuals/{manual_id}/versions/{version} - í…ŒìŠ¤íŠ¸
- [ ] ì‘ë‹µ í˜•ì‹ ê²€ì¦
- [ ] í•„ë“œëª… ì •í™•ì„± í™•ì¸
- [ ] ì—ëŸ¬ ì²˜ë¦¬ í™•ì¸

---

## ğŸš€ ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Step 1: ë°±ì—”ë“œ API ê²€ì¦ (í•„ìˆ˜)

#### 1-1. API ì‘ë‹µ í˜•ì‹ í™•ì¸

```bash
# ë²„ì „ ëª©ë¡ ì¡°íšŒ
curl -X GET "http://localhost:8000/api/v1/manuals/{manual_id}/versions" \
  -H "Content-Type: application/json"

# ì‘ë‹µì´ ë‹¤ìŒ í˜•ì‹ì¸ì§€ í™•ì¸:
{
  "value": "v2.1",        # âœ… "version"ì´ ì•„ë‹˜
  "label": "v2.1 (í˜„ì¬ ë²„ì „)",
  "date": "2024-01-15"    # âœ… YYYY-MM-DD í˜•ì‹
}
```

**í•„ë“œ í™•ì¸**:
- [x] `value` (ë²„ì „ ë²ˆí˜¸)
- [x] `label` (ì‚¬ìš©ì í‘œì‹œìš©)
- [x] `date` (YYYY-MM-DD)

#### 1-2. ë²„ì „ ìƒì„¸ ì¡°íšŒ

```bash
# ë²„ì „ ìƒì„¸ ì¡°íšŒ
curl -X GET "http://localhost:8000/api/v1/manuals/{manual_id}/versions/v2.1" \
  -H "Content-Type: application/json"

# ì‘ë‹µì´ ë‹¤ìŒ í˜•ì‹ì¸ì§€ í™•ì¸:
{
  "manual_id": "uuid",
  "version": "v2.1",
  "topic": "...",
  "keywords": ["..."],
  "background": "...",
  "guidelines": [         # âœ… ë°°ì—´ (ë¬¸ìì—´ ì•„ë‹˜!)
    {
      "title": "...",
      "description": "..."
    }
  ],
  "status": "APPROVED",   # âœ… ëŒ€ë¬¸ì
  "updated_at": "2024-01-15T14:30:00Z"  # âœ… ISO 8601
}
```

**í•„ë“œ í™•ì¸**:
- [x] `guidelines` - ë°°ì—´ì´ì–´ì•¼ í•¨ (ë¬¸ìì—´ X)
- [x] `status` - "APPROVED" ë˜ëŠ” "DEPRECATED" (ëŒ€ë¬¸ì)
- [x] `updated_at` - ISO 8601 í˜•ì‹
- [x] ëª¨ë“  í•„ìˆ˜ í•„ë“œ í¬í•¨

### Step 2: í”„ë¡ íŠ¸ì—”ë“œ ì—°ë™ í…ŒìŠ¤íŠ¸

#### 2-1. ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
npm run dev
```

#### 2-2. ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ê·¼

```
http://localhost:5173/manuals/{manual_id}/versions/compare
```

#### 2-3. ë™ì‘ í™•ì¸

- [ ] í˜ì´ì§€ ë¡œë“œë¨
- [ ] ë²„ì „ ë“œë¡­ë‹¤ìš´ì— ì‹¤ì œ API ë°ì´í„° í‘œì‹œë¨
- [ ] ë²„ì „ ì„ íƒ í›„ ë¹„êµ í™”ë©´ í‘œì‹œë¨
- [ ] ì½˜ì†”ì— ì—ëŸ¬ ì—†ìŒ

#### 2-4. Network íƒ­ì—ì„œ í™•ì¸

DevTools â†’ Network íƒ­:
- [ ] `GET /api/v1/manuals/{manualId}/versions` - 200 OK
- [ ] `GET /api/v1/manuals/{manualId}/versions/v2.0` - 200 OK
- [ ] `GET /api/v1/manuals/{manualId}/versions/v2.1` - 200 OK

### Step 3: ë¬¸ì œ í•´ê²°

#### ë¬¸ì œ: guidelinesì´ ë°°ì—´ì´ ì•„ë‹˜

**ì¦ìƒ**:
```json
"guidelines": "ì œëª©1\nì„¤ëª…1\nì œëª©2\nì„¤ëª…2"  // âŒ ë¬¸ìì—´
```

**í•´ê²°**:
ë°±ì—”ë“œì—ì„œ guideline íŒŒì‹± ë¡œì§ ì¶”ê°€ (API_TYPE_MAPPING.md ì°¸ê³ ):
```python
guidelines = []
lines = entry.guideline.split('\n')
for i in range(0, len(lines), 2):
    if i + 1 < len(lines):
        guidelines.append({
            "title": lines[i].strip(),
            "description": lines[i + 1].strip()
        })
```

#### ë¬¸ì œ: í•„ë“œëª… ì˜¤ë¥˜

**ì¦ìƒ**:
```json
"version": "v2.1"  // âŒ ë²„ì „ ëª©ë¡ì—ì„œëŠ” "value"
"guideline": "..." // âŒ "guidelines" (ë³µìˆ˜í˜•, ë°°ì—´)
```

**í•´ê²°**:
- ë²„ì „ ëª©ë¡: `value` (X) â†’ `version` (O) ... ì•„ë‹ˆ ì—­ì…ë‹ˆë‹¤!
  - ë²„ì „ ëª©ë¡ì˜ í•„ë“œëŠ” `value`ì…ë‹ˆë‹¤ (API_TYPE_MAPPING.md ì¬í™•ì¸)
- ë²„ì „ ìƒì„¸: `guidelines` (ë°°ì—´)

#### ë¬¸ì œ: ë‚ ì§œ í˜•ì‹

**ì¦ìƒ**:
```json
"date": "2024-01-15 14:30:00"  // âŒ
"date": "2024-01-15T14:30:00Z" // âŒ (updated_atì€ ISO 8601)
```

**í•„ìš”í•œ í˜•ì‹**:
```
ë²„ì „ ëª©ë¡:   "2024-01-15"           (YYYY-MM-DD)
ë²„ì „ ìƒì„¸:   "2024-01-15T14:30:00Z" (ISO 8601)
```

### Step 4: ë°°í¬ ì „ ìµœì¢… í…ŒìŠ¤íŠ¸

- [ ] API_INTEGRATION_TEST.mdì˜ ëª¨ë“  í•­ëª© í†µê³¼
- [ ] UIì— ì‹¤ì œ ë°ì´í„° í‘œì‹œë¨
- [ ] ì—ëŸ¬ ë©”ì‹œì§€ê°€ ì •ìƒ í‘œì‹œë¨ (API ì˜¤ë¥˜ ì‹œ)
- [ ] ì½˜ì†”ì— ê²½ê³ /ì—ëŸ¬ ì—†ìŒ

---

## ğŸ“¦ ë°°í¬ íŒŒì¼ ëª©ë¡

### í”„ë¡ íŠ¸ì—”ë“œ íŒŒì¼

```
src/
â”œâ”€â”€ types/manuals.ts                                    # íƒ€ì… ì •ì˜
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ api/manuals.ts                                 # API í•¨ìˆ˜
â”‚   â””â”€â”€ utils/dateFormatter.ts                         # ë‚ ì§œ í¬ë§·íŒ…
â”œâ”€â”€ hooks/useManualVersionCompare.ts                   # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (Mock ë°ì´í„° ì œê±°ë¨)
â”œâ”€â”€ components/manuals/ManualVersionCompareView.tsx    # UI ì»´í¬ë„ŒíŠ¸
â””â”€â”€ pages/manuals/ManualVersionComparePage.tsx         # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸

routes/AppRouter.tsx                                    # ë¼ìš°íŒ… (ìˆ˜ì •ë¨)
```

### ë¬¸ì„œ íŒŒì¼

```
BACKEND_API_GUIDE.md                  # ë°±ì—”ë“œ êµ¬í˜„ ê°€ì´ë“œ (í•„ìˆ˜ ì½ê¸°!)
API_TYPE_MAPPING.md                   # íƒ€ì… ë§¤í•‘
VERSION_COMPARE_SETUP.md              # ì„¤ì • ê°€ì´ë“œ
INTEGRATION_TEST_CHECKLIST.md         # í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸
QUICK_REFERENCE.md                    # ê°œë°œì ì°¸ê³  ìë£Œ
INTEGRATION_COMPLETE.md               # í†µí•© ì™„ë£Œ ìƒíƒœ
API_INTEGRATION_TEST.md               # API ì—°ë™ í…ŒìŠ¤íŠ¸
FINAL_DEPLOYMENT_GUIDE.md             # ì´ íŒŒì¼
```

---

## âœ… ë°°í¬ ì ˆì°¨

### 1ë‹¨ê³„: ë°±ì—”ë“œ ê²€ì¦ (ë°±ì—”ë“œíŒ€)

```bash
# 1. API ì—”ë“œí¬ì¸íŠ¸ í™•ì¸
curl -X GET "http://api.server:8000/api/v1/manuals/{id}/versions"

# 2. ì‘ë‹µ í˜•ì‹ í™•ì¸
# BACKEND_API_GUIDE.mdì™€ ì¼ì¹˜í•˜ëŠ”ì§€ ê²€ì¦

# 3. í…ŒìŠ¤íŠ¸ ì™„ë£Œ
# ëª¨ë“  í•„ë“œê°€ ì˜¬ë°”ë¥¸ í˜•ì‹ì¸ì§€ í™•ì¸
```

### 2ë‹¨ê³„: í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸ (ê°œë°œíŒ€)

```bash
# 1. ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev

# 2. í˜ì´ì§€ ì ‘ê·¼ ë° í…ŒìŠ¤íŠ¸
# http://localhost:5173/manuals/{manual_id}/versions/compare

# 3. API_INTEGRATION_TEST.mdì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ í™•ì¸

# 4. ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼ í™•ì¸
```

### 3ë‹¨ê³„: í”„ë¡œë•ì…˜ í™˜ê²½ ì„¤ì • (ë°°í¬íŒ€)

```bash
# 1. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
VITE_API_BASE_URL=https://api.production.com

# 2. ë¹Œë“œ
npm run build

# 3. ë°°í¬
# í”„ë¡œë•ì…˜ ì„œë²„ì— ë°°í¬
```

### 4ë‹¨ê³„: í”„ë¡œë•ì…˜ í…ŒìŠ¤íŠ¸ (QAíŒ€)

- [ ] https://production.site/manuals/{id}/versions/compare ì ‘ê·¼
- [ ] ë²„ì „ ëª©ë¡ í‘œì‹œ í™•ì¸
- [ ] ë²„ì „ ì„ íƒ í›„ ë¹„êµ í™”ë©´ í‘œì‹œ í™•ì¸
- [ ] ëª¨ë“  í•„ë“œ ì •ìƒ í‘œì‹œ í™•ì¸

---

## ğŸ” ëª¨ë‹ˆí„°ë§

### í”„ë¡œë•ì…˜ ë°°í¬ í›„

```bash
# 1. ì—ëŸ¬ ë¡œê·¸ í™•ì¸
# ì½˜ì†”ì—ì„œ "Error loading versions" ë˜ëŠ” "Error loading version data" í™•ì¸

# 2. API ì‘ë‹µ ì‹œê°„ í™•ì¸
# Network íƒ­ì—ì„œ API ì‘ë‹µ ì‹œê°„ì´ 1ì´ˆ ì´ë‚´ì¸ì§€ í™•ì¸

# 3. ì‚¬ìš©ì ë³´ê³  ëŒ€ê¸°
# ì²« ì£¼ ë™ì•ˆ ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘
```

---

## ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ë°°í¬ ì „ (í•„ìˆ˜)

**ë°±ì—”ë“œ**:
- [ ] ë‘ API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ ì™„ë£Œ
- [ ] ì‘ë‹µ í˜•ì‹ì´ ë¬¸ì„œì™€ ì¼ì¹˜
- [ ] í•„ë“œëª…ì´ ì •í™•í•¨
- [ ] guidelinesëŠ” ë°°ì—´ í˜•ì‹
- [ ] ì—ëŸ¬ ì²˜ë¦¬ êµ¬í˜„ë¨
- [ ] í…ŒìŠ¤íŠ¸ ì™„ë£Œ

**í”„ë¡ íŠ¸ì—”ë“œ**:
- [ ] Mock ë°ì´í„° ì œê±°ë¨ âœ…
- [ ] ì‹¤ì œ APIë§Œ í˜¸ì¶œ
- [ ] API_INTEGRATION_TEST.md ì²´í¬ë¦¬ìŠ¤íŠ¸ í†µê³¼
- [ ] ì½˜ì†” ì—ëŸ¬ ì—†ìŒ
- [ ] ì‚¬ìš©ì í…ŒìŠ¤íŠ¸ ì™„ë£Œ

**ë°°í¬**:
- [ ] í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- [ ] ë¹Œë“œ ì„±ê³µ
- [ ] í”„ë¡œë•ì…˜ ë°°í¬
- [ ] í—¬ìŠ¤ ì²´í¬ ì™„ë£Œ

### ë°°í¬ í›„ (1ì£¼ì¼)

- [ ] ì‚¬ìš©ì ì˜¤ë¥˜ ë³´ê³  í™•ì¸
- [ ] ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
- [ ] ë°±ì—”ë“œ API ì•ˆì •ì„± í™•ì¸
- [ ] í•„ìš”ì‹œ í•«í”½ìŠ¤

---

## ğŸ“ ë¬¸ì œ í•´ê²° ì—°ë½ì²˜

### API ì‘ë‹µ í˜•ì‹ ë¬¸ì œ
â†’ BACKEND_API_GUIDE.md ë° API_TYPE_MAPPING.md í™•ì¸

### í”„ë¡ íŠ¸ì—”ë“œ UI ë¬¸ì œ
â†’ ë¸Œë¼ìš°ì € DevTools â†’ Network íƒ­ì—ì„œ API ì‘ë‹µ í™•ì¸

### ë°°í¬ ê´€ë ¨ ë¬¸ì œ
â†’ ë°°í¬íŒ€ì— ì—°ë½

---

## ğŸ“š ì°¸ê³  ìë£Œ

1. **BACKEND_API_GUIDE.md** (í•„ë…!)
   - API ì—”ë“œí¬ì¸íŠ¸ ìŠ¤í™
   - ìš”ì²­/ì‘ë‹µ í˜•ì‹
   - í•„ë“œ ì„¤ëª…

2. **API_TYPE_MAPPING.md**
   - OpenAPI â†” TypeScript ë³€í™˜
   - Guideline íŒŒì‹± ì˜ˆì‹œ
   - í•„ë“œ ë§¤í•‘ í…Œì´ë¸”

3. **API_INTEGRATION_TEST.md**
   - API í…ŒìŠ¤íŠ¸ ì ˆì°¨
   - ë¸Œë¼ìš°ì € DevTools ì‚¬ìš©ë²•
   - ì¼ë°˜ì ì¸ ë¬¸ì œ í•´ê²°

4. **QUICK_REFERENCE.md**
   - ë¹ ë¥¸ ì°¸ê³  ìë£Œ
   - ì˜ˆì œ ì½”ë“œ

---

## ğŸ‰ ë°°í¬ ì™„ë£Œ í›„

- [ ] í”„ë¡œë•ì…˜ì—ì„œ ì •ìƒ ì‘ë™ í™•ì¸
- [ ] ì‚¬ìš©ì êµìœ¡ (í•„ìš”ì‹œ)
- [ ] ëª¨ë‹ˆí„°ë§ ì„¤ì •
- [ ] ë²„ì „ ê´€ë¦¬ ì—…ë°ì´íŠ¸
- [ ] ë¦´ë¦¬ìŠ¤ ë…¸íŠ¸ ì‘ì„±

---

**ìƒíƒœ**: Mock ë°ì´í„° ì œê±° ì™„ë£Œ, ë°±ì—”ë“œ API ì—°ë™ í…ŒìŠ¤íŠ¸ ì§„í–‰ ì¤‘

**ë‹¤ìŒ ë‹¨ê³„**:
1. ë°±ì—”ë“œ API ì‘ë‹µ í˜•ì‹ ê²€ì¦
2. í”„ë¡ íŠ¸ì—”ë“œ í†µí•© í…ŒìŠ¤íŠ¸
3. í”„ë¡œë•ì…˜ ë°°í¬

**ì˜ˆìƒ ì¼ì •**: 1-2ì¼ (í…ŒìŠ¤íŠ¸) + 1ì¼ (ë°°í¬) = 2-3ì¼
